<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>necsim: necsim/Community.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="NECSim_logo_downscaled.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">necsim
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Neutral Ecology Coalescence Simulator - runs spatially explicit neutral models on a landscape.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_community_8cpp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Community.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contains the <a class="el" href="class_community.html" title="A class to contain the tree object lineages and reconstructing the coalescence tree. Contains functions for calculating the number of species for a given speciation rate, outputting spatial data and generating species abundance distributions. Requires a link to the SQLite database from simulation output, and produces results within the same database file. ">Community</a> class implementation, which is used for reconstructing the coalescence tree after simulations are complete.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;set&gt;</code><br />
<code>#include &lt;unordered_map&gt;</code><br />
<code>#include &quot;<a class="el" href="_community_8h_source.html">Community.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_filesystem_8h_source.html">Filesystem.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for Community.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="_community_8cpp__incl.jpg" border="0" usemap="#necsim_2_community_8cpp" alt=""/></div>
<map name="necsim_2_community_8cpp" id="necsim_2_community_8cpp">
<area shape="rect" id="node5" href="_community_8h.html" title="Contains the Community object, which is used for reconstructing the coalescence tree after simulation..." alt="" coords="812,79,911,104"/>
<area shape="rect" id="node34" href="_filesystem_8h.html" title="Contains routines for checking files and folder exist, opening sqlite databases safely, with support for various virtual filesystems, and checking parents of a file exist. " alt="" coords="1461,79,1558,104"/>
<area shape="rect" id="node13" href="_tree_node_8h.html" title="Contains the TreeNode class for storing the coalescence tree. " alt="" coords="567,225,658,251"/>
<area shape="rect" id="node23" href="_matrix_8h.html" title="Contains a template for a matrix with all the basic matrix operations overloaded. ..." alt="" coords="982,225,1051,251"/>
<area shape="rect" id="node27" href="_data_mask_8h.html" title="Contains DataMask for describing the spatial sampling pattern on a landscape. " alt="" coords="674,152,766,177"/>
<area shape="rect" id="node33" href="_spec_sim_parameters_8h.html" title="Contains parameters for applying speciation rates post&#45;simulation. " alt="" coords="1184,152,1339,177"/>
<area shape="rect" id="node17" href="_logging_8h.html" title="Routines for writing to cout. Intended to be overloaded for pythonic versions with the logging module..." alt="" coords="798,299,878,324"/>
<area shape="rect" id="node18" href="_log_file_8h.html" title="Contains a class for logging to a logfile, including reporting level and timestamps. " alt="" coords="810,372,886,397"/>
<area shape="rect" id="node22" href="_custom_exceptions_8h.html" title="Contains the various exceptions used by NECSim. " alt="" coords="844,445,988,471"/>
<area shape="rect" id="node28" href="_sim_parameters_8h.html" title="Stores and parses simulation parameters from the command line or a config file. " alt="" coords="682,225,806,251"/>
<area shape="rect" id="node30" href="_config_file_parser_8h.html" title="ConfigOption and SectionOption classes for importing command line parameters from a config text file..." alt="" coords="440,299,571,324"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac0d535bc74d14e6a7c851f1242548dc0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_community_8cpp.html#ac0d535bc74d14e6a7c851f1242548dc0">checkSpeciation</a> (const long double &amp;random_number, const long double &amp;speciation_rate, const unsigned long &amp;no_generations)</td></tr>
<tr class="memdesc:ac0d535bc74d14e6a7c851f1242548dc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether speciation has occured for the provided parameters. Provided here for ease of use when bug-fixing.  <a href="#ac0d535bc74d14e6a7c851f1242548dc0">More...</a><br /></td></tr>
<tr class="separator:ac0d535bc74d14e6a7c851f1242548dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d6dcddec98b5a2e2310370a2a11b3ab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_community_8cpp.html#a7d6dcddec98b5a2e2310370a2a11b3ab">doubleCompare</a> (double d1, double d2, double epsilon)</td></tr>
<tr class="memdesc:a7d6dcddec98b5a2e2310370a2a11b3ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two doubles and returns a boolean of whether they are equal, within the epsilon deviation. This is useful for floating point errors in saving and reading doubles from file.  <a href="#a7d6dcddec98b5a2e2310370a2a11b3ab">More...</a><br /></td></tr>
<tr class="separator:a7d6dcddec98b5a2e2310370a2a11b3ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a691869ae2affd4d42f7ba9ea9839fe04"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_community_8cpp.html#a691869ae2affd4d42f7ba9ea9839fe04">doubleCompare</a> (long double d1, long double d2, long double epsilon)</td></tr>
<tr class="memdesc:a691869ae2affd4d42f7ba9ea9839fe04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two doubles and returns a boolean of whether they are equal, within the epsilon deviation. This is useful for floating point errors in saving and reading doubles from file. Overloaded version for long doubles.  <a href="#a691869ae2affd4d42f7ba9ea9839fe04">More...</a><br /></td></tr>
<tr class="separator:a691869ae2affd4d42f7ba9ea9839fe04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15cd56115375f185c8a6f95c13800bfc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_community_8cpp.html#a15cd56115375f185c8a6f95c13800bfc">doubleCompare</a> (long double d1, long double d2, double epsilon)</td></tr>
<tr class="memdesc:a15cd56115375f185c8a6f95c13800bfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compares two doubles and returns a boolean of whether they are equal, within the epsilon deviation. This is useful for floating point errors in saving and reading doubles from file. Overloaded version for long doubles and double epsilon.  <a href="#a15cd56115375f185c8a6f95c13800bfc">More...</a><br /></td></tr>
<tr class="separator:a15cd56115375f185c8a6f95c13800bfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contains the <a class="el" href="class_community.html" title="A class to contain the tree object lineages and reconstructing the coalescence tree. Contains functions for calculating the number of species for a given speciation rate, outputting spatial data and generating species abundance distributions. Requires a link to the SQLite database from simulation output, and produces results within the same database file. ">Community</a> class implementation, which is used for reconstructing the coalescence tree after simulations are complete. </p>
<dl class="section author"><dt>Author</dt><dd>Samuel Thompson</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd><a href="https://opensource.org/licenses/BSD-3-Clause">BSD-3 Licence.</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac0d535bc74d14e6a7c851f1242548dc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkSpeciation </td>
          <td>(</td>
          <td class="paramtype">const long double &amp;&#160;</td>
          <td class="paramname"><em>random_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const long double &amp;&#160;</td>
          <td class="paramname"><em>speciation_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned long &amp;&#160;</td>
          <td class="paramname"><em>no_generations</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether speciation has occured for the provided parameters. Provided here for ease of use when bug-fixing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">random_number</td><td>the random number associated with a lineage </td></tr>
    <tr><td class="paramname">speciation_rate</td><td>the global speciation rate </td></tr>
    <tr><td class="paramname">number_of_generations</td><td>the number of generations the lineage has existed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool the speciation state of the lineage </dd></dl>

</div>
</div>
<a class="anchor" id="a7d6dcddec98b5a2e2310370a2a11b3ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool doubleCompare </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>epsilon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compares two doubles and returns a boolean of whether they are equal, within the epsilon deviation. This is useful for floating point errors in saving and reading doubles from file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d1</td><td>the first double. </td></tr>
    <tr><td class="paramname">d2</td><td>the second double. </td></tr>
    <tr><td class="paramname">epsilon</td><td>the deviation within which the values are assumed to be equal. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the doubles are within epsilon of each other </dd></dl>

</div>
</div>
<a class="anchor" id="a691869ae2affd4d42f7ba9ea9839fe04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool doubleCompare </td>
          <td>(</td>
          <td class="paramtype">long double&#160;</td>
          <td class="paramname"><em>d1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long double&#160;</td>
          <td class="paramname"><em>d2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long double&#160;</td>
          <td class="paramname"><em>epsilon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compares two doubles and returns a boolean of whether they are equal, within the epsilon deviation. This is useful for floating point errors in saving and reading doubles from file. Overloaded version for long doubles. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d1</td><td>the first double. </td></tr>
    <tr><td class="paramname">d2</td><td>the second double. </td></tr>
    <tr><td class="paramname">epsilon</td><td>the deviation within which the values are assumed to be equal. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the doubles are within epsilon of each other </dd></dl>

</div>
</div>
<a class="anchor" id="a15cd56115375f185c8a6f95c13800bfc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool doubleCompare </td>
          <td>(</td>
          <td class="paramtype">long double&#160;</td>
          <td class="paramname"><em>d1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long double&#160;</td>
          <td class="paramname"><em>d2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>epsilon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compares two doubles and returns a boolean of whether they are equal, within the epsilon deviation. This is useful for floating point errors in saving and reading doubles from file. Overloaded version for long doubles and double epsilon. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d1</td><td>the first double. </td></tr>
    <tr><td class="paramname">d2</td><td>the second double. </td></tr>
    <tr><td class="paramname">epsilon</td><td>the deviation within which the values are assumed to be equal. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the doubles are within epsilon of each other </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e05364b997795796db1b5859e42fe4db.html">necsim</a></li><li class="navelem"><a class="el" href="_community_8cpp.html">Community.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
