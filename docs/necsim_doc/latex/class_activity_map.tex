\hypertarget{class_activity_map}{}\section{Activity\+Map Class Reference}
\label{class_activity_map}\index{Activity\+Map@{Activity\+Map}}


Contains the routines for importing activity maps and getting a cell value from the map.  




{\ttfamily \#include $<$Activity\+Map.\+h$>$}



Collaboration diagram for Activity\+Map\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=276pt]{class_activity_map__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{class_activity_map_ad77d0052639050280df746d7b21e68a8}{is\+Null} ()
\begin{DoxyCompactList}\small\item\em Gets if the map is a null reproduction map, with no matrix storage in memory necessary. \end{DoxyCompactList}\item 
void \hyperlink{class_activity_map_a13d7fbbe6c79ca0af1d60314a2fe6187}{import} (string file\+\_\+name, unsigned long size\+\_\+x, unsigned long size\+\_\+y, shared\+\_\+ptr$<$ \hyperlink{class_n_rrand}{N\+Rrand} $>$ random\+\_\+in)
\begin{DoxyCompactList}\small\item\em Imports the map file from the given path Requires the dimensions to be identical as the fine map file dimensions. \end{DoxyCompactList}\item 
void \hyperlink{class_activity_map_a5ae1efb4f4745e379a2ebfa59511404b}{set\+Activity\+Function} ()\hypertarget{class_activity_map_a5ae1efb4f4745e379a2ebfa59511404b}{}\label{class_activity_map_a5ae1efb4f4745e379a2ebfa59511404b}

\begin{DoxyCompactList}\small\item\em Correctly sets the reproduction function to either rejection\+Sample\+Null or rejection\+Sample depending on if a reproduction map is used or not. \end{DoxyCompactList}\item 
void \hyperlink{class_activity_map_acf8157c6154cc369a9087809c9ed041c}{set\+Offsets} (const unsigned long \&x\+\_\+offset, const unsigned long \&y\+\_\+offset, const unsigned long \&xdim, const unsigned long \&ydim)
\begin{DoxyCompactList}\small\item\em Sets the offsets for the reproduction map from the sample grid. \end{DoxyCompactList}\item 
bool \hyperlink{class_activity_map_aa6a93241569a51d46eee123ef386de32}{rejection\+Sample\+Null} (const unsigned long \&x, const unsigned long \&y, const long \&xwrap, const long \&ywrap)
\begin{DoxyCompactList}\small\item\em Returns true for all cell values Function to be pointed to in cases where there is no reproduction map. \end{DoxyCompactList}\item 
bool \hyperlink{class_activity_map_a19890a93eccac57093fc381dac776bb3}{rejection\+Sample} (const unsigned long \&x, const unsigned long \&y, const long \&xwrap, const long \&ywrap)
\begin{DoxyCompactList}\small\item\em Returns true for all cell values Function to be pointed to in cases where there is no reproduction map. \end{DoxyCompactList}\item 
double \hyperlink{class_activity_map_a828dd0f21660f8a0a0465f69320b2ba0}{get\+Val} (const unsigned long \&x, const unsigned long \&y, const long \&xwrap, const long \&ywrap)
\begin{DoxyCompactList}\small\item\em Gets the value of the reproduction map at that location. \end{DoxyCompactList}\item 
bool \hyperlink{class_activity_map_a4935b5ab3b72bd90903e3e9ce7f66c99}{action\+Occurs} (const unsigned long \&x, const unsigned long \&y, const long \&xwrap, const long \&ywrap)
\begin{DoxyCompactList}\small\item\em Tests if the random action occurs. \end{DoxyCompactList}\item 
void \hyperlink{class_activity_map_a444476b8818b0f3ad5e08e4d690d9b49}{standardise\+Values} ()\hypertarget{class_activity_map_a444476b8818b0f3ad5e08e4d690d9b49}{}\label{class_activity_map_a444476b8818b0f3ad5e08e4d690d9b49}

\begin{DoxyCompactList}\small\item\em Standardises probability values from 0-\/1. \end{DoxyCompactList}\item 
\hyperlink{class_row}{Row}$<$ double $>$ \hyperlink{class_activity_map_a92b1a1dfcb284044e663d9df9e620986}{operator\mbox{[}$\,$\mbox{]}} (long index)
\begin{DoxyCompactList}\small\item\em Operator \mbox{[}\mbox{]} for getting values directly from the reproduction map. \end{DoxyCompactList}\item 
\hyperlink{class_activity_map}{Activity\+Map} \& \hyperlink{class_activity_map_a34a91ee0910bece045c0351e8781a023}{operator=} (const \hyperlink{class_activity_map}{Activity\+Map} \&rm)
\begin{DoxyCompactList}\small\item\em Equality operator. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Types}
\begin{DoxyCompactItemize}
\item 
typedef bool(Activity\+Map\+::$\ast$ {\bfseries rep\+\_\+ptr}) (const unsigned long \&x, const unsigned long \&y, const long \&xwrap, const long \&ywrap)\hypertarget{class_activity_map_a0351c3b97323eaa3d3fea8ff72859eae}{}\label{class_activity_map_a0351c3b97323eaa3d3fea8ff72859eae}

\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_map}{Map}$<$ double $>$ {\bfseries activity\+\_\+map}\hypertarget{class_activity_map_ae6bb212e15a9b8d1dd1fef3a1f54b9f6}{}\label{class_activity_map_ae6bb212e15a9b8d1dd1fef3a1f54b9f6}

\item 
string {\bfseries map\+\_\+file}\hypertarget{class_activity_map_a5d8cd617565cc97b924b78f03b82eb4a}{}\label{class_activity_map_a5d8cd617565cc97b924b78f03b82eb4a}

\item 
double {\bfseries max\+\_\+val}\hypertarget{class_activity_map_a59c10c7e03899876365ef4bc791b3fad}{}\label{class_activity_map_a59c10c7e03899876365ef4bc791b3fad}

\item 
bool {\bfseries null\+\_\+map}\hypertarget{class_activity_map_a3133f8f157fc7abd266ca0b639d4c694}{}\label{class_activity_map_a3133f8f157fc7abd266ca0b639d4c694}

\item 
unsigned long {\bfseries offset\+\_\+x}\hypertarget{class_activity_map_ace785bd2cef75f4280015bb85826705b}{}\label{class_activity_map_ace785bd2cef75f4280015bb85826705b}

\item 
unsigned long {\bfseries offset\+\_\+y}\hypertarget{class_activity_map_a2915cce35c408d864c8234fc41397569}{}\label{class_activity_map_a2915cce35c408d864c8234fc41397569}

\item 
unsigned long {\bfseries x\+\_\+dim}\hypertarget{class_activity_map_a9b1828005d0e5b0c3ea9c6cf384bed1b}{}\label{class_activity_map_a9b1828005d0e5b0c3ea9c6cf384bed1b}

\item 
unsigned long {\bfseries y\+\_\+dim}\hypertarget{class_activity_map_a8a822d954d05e09859a4c7be94b276c0}{}\label{class_activity_map_a8a822d954d05e09859a4c7be94b276c0}

\item 
shared\+\_\+ptr$<$ \hyperlink{class_n_rrand}{N\+Rrand} $>$ {\bfseries random}\hypertarget{class_activity_map_a226799885de8a5535c7cb46af66efed6}{}\label{class_activity_map_a226799885de8a5535c7cb46af66efed6}

\item 
rep\+\_\+ptr {\bfseries activity\+\_\+map\+\_\+checker\+\_\+fptr}\hypertarget{class_activity_map_a9ced752f73123073e076f50b8944e432}{}\label{class_activity_map_a9ced752f73123073e076f50b8944e432}

\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
ostream \& \hyperlink{class_activity_map_a4b5c5587f2e524585f59cbbe7b23c769}{operator$<$$<$} (ostream \&os, \hyperlink{class_activity_map}{Activity\+Map} \&r)
\begin{DoxyCompactList}\small\item\em Operator for outputting to an ostream. \end{DoxyCompactList}\item 
istream \& \hyperlink{class_activity_map_aa3e2167f7a7a0bb69bf61cf7c72298e6}{operator$>$$>$} (istream \&is, \hyperlink{class_activity_map}{Activity\+Map} \&r)
\begin{DoxyCompactList}\small\item\em Operator for inputting from an istream. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Contains the routines for importing activity maps and getting a cell value from the map. 

Activity maps can be reproduction probability maps or death maps. 

\subsection{Member Function Documentation}
\index{Activity\+Map@{Activity\+Map}!action\+Occurs@{action\+Occurs}}
\index{action\+Occurs@{action\+Occurs}!Activity\+Map@{Activity\+Map}}
\subsubsection[{\texorpdfstring{action\+Occurs(const unsigned long \&x, const unsigned long \&y, const long \&xwrap, const long \&ywrap)}{actionOccurs(const unsigned long &x, const unsigned long &y, const long &xwrap, const long &ywrap)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Activity\+Map\+::action\+Occurs (
\begin{DoxyParamCaption}
\item[{const unsigned long \&}]{x, }
\item[{const unsigned long \&}]{y, }
\item[{const long \&}]{xwrap, }
\item[{const long \&}]{ywrap}
\end{DoxyParamCaption}
)}\hypertarget{class_activity_map_a4935b5ab3b72bd90903e3e9ce7f66c99}{}\label{class_activity_map_a4935b5ab3b72bd90903e3e9ce7f66c99}


Tests if the random action occurs. 


\begin{DoxyParams}{Parameters}
{\em x} & x coordinate of the lineage on the sample grid \\
\hline
{\em y} & y coordinate of the lineage on the sample grid \\
\hline
{\em xwrap} & x wrapping of the lineage \\
\hline
{\em ywrap} & y wrapping of the lineage \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
value of the reproduction map at the required location 
\end{DoxyReturn}
\index{Activity\+Map@{Activity\+Map}!get\+Val@{get\+Val}}
\index{get\+Val@{get\+Val}!Activity\+Map@{Activity\+Map}}
\subsubsection[{\texorpdfstring{get\+Val(const unsigned long \&x, const unsigned long \&y, const long \&xwrap, const long \&ywrap)}{getVal(const unsigned long &x, const unsigned long &y, const long &xwrap, const long &ywrap)}}]{\setlength{\rightskip}{0pt plus 5cm}double Activity\+Map\+::get\+Val (
\begin{DoxyParamCaption}
\item[{const unsigned long \&}]{x, }
\item[{const unsigned long \&}]{y, }
\item[{const long \&}]{xwrap, }
\item[{const long \&}]{ywrap}
\end{DoxyParamCaption}
)}\hypertarget{class_activity_map_a828dd0f21660f8a0a0465f69320b2ba0}{}\label{class_activity_map_a828dd0f21660f8a0a0465f69320b2ba0}


Gets the value of the reproduction map at that location. 


\begin{DoxyParams}{Parameters}
{\em x} & x coordinate of the lineage on the sample grid \\
\hline
{\em y} & y coordinate of the lineage on the sample grid \\
\hline
{\em xwrap} & x wrapping of the lineage \\
\hline
{\em ywrap} & y wrapping of the lineage \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
value of the reproduction map at the required location 
\end{DoxyReturn}
\index{Activity\+Map@{Activity\+Map}!import@{import}}
\index{import@{import}!Activity\+Map@{Activity\+Map}}
\subsubsection[{\texorpdfstring{import(string file\+\_\+name, unsigned long size\+\_\+x, unsigned long size\+\_\+y, shared\+\_\+ptr$<$ N\+Rrand $>$ random\+\_\+in)}{import(string file_name, unsigned long size_x, unsigned long size_y, shared_ptr< NRrand > random_in)}}]{\setlength{\rightskip}{0pt plus 5cm}void Activity\+Map\+::import (
\begin{DoxyParamCaption}
\item[{string}]{file\+\_\+name, }
\item[{unsigned long}]{size\+\_\+x, }
\item[{unsigned long}]{size\+\_\+y, }
\item[{shared\+\_\+ptr$<$ {\bf N\+Rrand} $>$}]{random\+\_\+in}
\end{DoxyParamCaption}
)}\hypertarget{class_activity_map_a13d7fbbe6c79ca0af1d60314a2fe6187}{}\label{class_activity_map_a13d7fbbe6c79ca0af1d60314a2fe6187}


Imports the map file from the given path Requires the dimensions to be identical as the fine map file dimensions. 


\begin{DoxyParams}{Parameters}
{\em file\+\_\+name} & the path to the reproduction map to import \\
\hline
{\em size\+\_\+x} & the x dimensions of the map file \\
\hline
{\em size\+\_\+y} & the y dimensions of the map file \\
\hline
\end{DoxyParams}
\index{Activity\+Map@{Activity\+Map}!is\+Null@{is\+Null}}
\index{is\+Null@{is\+Null}!Activity\+Map@{Activity\+Map}}
\subsubsection[{\texorpdfstring{is\+Null()}{isNull()}}]{\setlength{\rightskip}{0pt plus 5cm}bool Activity\+Map\+::is\+Null (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_activity_map_ad77d0052639050280df746d7b21e68a8}{}\label{class_activity_map_ad77d0052639050280df746d7b21e68a8}


Gets if the map is a null reproduction map, with no matrix storage in memory necessary. 

\begin{DoxyReturn}{Returns}
true if the map is \char`\"{}null\char`\"{} or \char`\"{}none\char`\"{} 
\end{DoxyReturn}
\index{Activity\+Map@{Activity\+Map}!operator=@{operator=}}
\index{operator=@{operator=}!Activity\+Map@{Activity\+Map}}
\subsubsection[{\texorpdfstring{operator=(const Activity\+Map \&rm)}{operator=(const ActivityMap &rm)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Activity\+Map}\& Activity\+Map\+::operator= (
\begin{DoxyParamCaption}
\item[{const {\bf Activity\+Map} \&}]{rm}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_activity_map_a34a91ee0910bece045c0351e8781a023}{}\label{class_activity_map_a34a91ee0910bece045c0351e8781a023}


Equality operator. 


\begin{DoxyParams}{Parameters}
{\em rm} & the \hyperlink{class_activity_map}{Activity\+Map} object to copy from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the self \hyperlink{class_activity_map}{Activity\+Map} object 
\end{DoxyReturn}
\index{Activity\+Map@{Activity\+Map}!operator\mbox{[}$\,$\mbox{]}@{operator[]}}
\index{operator\mbox{[}$\,$\mbox{]}@{operator[]}!Activity\+Map@{Activity\+Map}}
\subsubsection[{\texorpdfstring{operator[](long index)}{operator[](long index)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Row}$<$double$>$ Activity\+Map\+::operator\mbox{[}$\,$\mbox{]} (
\begin{DoxyParamCaption}
\item[{long}]{index}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_activity_map_a92b1a1dfcb284044e663d9df9e620986}{}\label{class_activity_map_a92b1a1dfcb284044e663d9df9e620986}


Operator \mbox{[}\mbox{]} for getting values directly from the reproduction map. 


\begin{DoxyParams}{Parameters}
{\em index} & the index to get the row of \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the row present at that index 
\end{DoxyReturn}
\index{Activity\+Map@{Activity\+Map}!rejection\+Sample@{rejection\+Sample}}
\index{rejection\+Sample@{rejection\+Sample}!Activity\+Map@{Activity\+Map}}
\subsubsection[{\texorpdfstring{rejection\+Sample(const unsigned long \&x, const unsigned long \&y, const long \&xwrap, const long \&ywrap)}{rejectionSample(const unsigned long &x, const unsigned long &y, const long &xwrap, const long &ywrap)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Activity\+Map\+::rejection\+Sample (
\begin{DoxyParamCaption}
\item[{const unsigned long \&}]{x, }
\item[{const unsigned long \&}]{y, }
\item[{const long \&}]{xwrap, }
\item[{const long \&}]{ywrap}
\end{DoxyParamCaption}
)}\hypertarget{class_activity_map_a19890a93eccac57093fc381dac776bb3}{}\label{class_activity_map_a19890a93eccac57093fc381dac776bb3}


Returns true for all cell values Function to be pointed to in cases where there is no reproduction map. 


\begin{DoxyParams}{Parameters}
{\em random\+\_\+number} & random number object to pass forward \\
\hline
{\em x} & x coordinate of the lineage on the sample grid \\
\hline
{\em y} & y coordinate of the lineage on the sample grid \\
\hline
{\em xwrap} & x wrapping of the lineage \\
\hline
{\em ywrap} & y wrapping of the lineage \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true always 
\end{DoxyReturn}
\index{Activity\+Map@{Activity\+Map}!rejection\+Sample\+Null@{rejection\+Sample\+Null}}
\index{rejection\+Sample\+Null@{rejection\+Sample\+Null}!Activity\+Map@{Activity\+Map}}
\subsubsection[{\texorpdfstring{rejection\+Sample\+Null(const unsigned long \&x, const unsigned long \&y, const long \&xwrap, const long \&ywrap)}{rejectionSampleNull(const unsigned long &x, const unsigned long &y, const long &xwrap, const long &ywrap)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Activity\+Map\+::rejection\+Sample\+Null (
\begin{DoxyParamCaption}
\item[{const unsigned long \&}]{x, }
\item[{const unsigned long \&}]{y, }
\item[{const long \&}]{xwrap, }
\item[{const long \&}]{ywrap}
\end{DoxyParamCaption}
)}\hypertarget{class_activity_map_aa6a93241569a51d46eee123ef386de32}{}\label{class_activity_map_aa6a93241569a51d46eee123ef386de32}


Returns true for all cell values Function to be pointed to in cases where there is no reproduction map. 


\begin{DoxyParams}{Parameters}
{\em random\+\_\+number} & random number object to pass forward \\
\hline
{\em x} & x coordinate of the lineage on the sample grid \\
\hline
{\em y} & y coordinate of the lineage on the sample grid \\
\hline
{\em xwrap} & x wrapping of the lineage \\
\hline
{\em ywrap} & y wrapping of the lineage \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true always 
\end{DoxyReturn}
\index{Activity\+Map@{Activity\+Map}!set\+Offsets@{set\+Offsets}}
\index{set\+Offsets@{set\+Offsets}!Activity\+Map@{Activity\+Map}}
\subsubsection[{\texorpdfstring{set\+Offsets(const unsigned long \&x\+\_\+offset, const unsigned long \&y\+\_\+offset, const unsigned long \&xdim, const unsigned long \&ydim)}{setOffsets(const unsigned long &x_offset, const unsigned long &y_offset, const unsigned long &xdim, const unsigned long &ydim)}}]{\setlength{\rightskip}{0pt plus 5cm}void Activity\+Map\+::set\+Offsets (
\begin{DoxyParamCaption}
\item[{const unsigned long \&}]{x\+\_\+offset, }
\item[{const unsigned long \&}]{y\+\_\+offset, }
\item[{const unsigned long \&}]{xdim, }
\item[{const unsigned long \&}]{ydim}
\end{DoxyParamCaption}
)}\hypertarget{class_activity_map_acf8157c6154cc369a9087809c9ed041c}{}\label{class_activity_map_acf8157c6154cc369a9087809c9ed041c}


Sets the offsets for the reproduction map from the sample grid. 


\begin{DoxyParams}{Parameters}
{\em x\+\_\+offset} & the x offset from the sample grid \\
\hline
{\em y\+\_\+offset} & the y offset from the sample grid \\
\hline
{\em xdim} & the x dimension of the sample grid \\
\hline
{\em ydim} & the y dimension of the sample grid \\
\hline
\end{DoxyParams}


\subsection{Friends And Related Function Documentation}
\index{Activity\+Map@{Activity\+Map}!operator$<$$<$@{operator$<$$<$}}
\index{operator$<$$<$@{operator$<$$<$}!Activity\+Map@{Activity\+Map}}
\subsubsection[{\texorpdfstring{operator$<$$<$}{operator<<}}]{\setlength{\rightskip}{0pt plus 5cm}ostream\& operator$<$$<$ (
\begin{DoxyParamCaption}
\item[{ostream \&}]{os, }
\item[{{\bf Activity\+Map} \&}]{r}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{class_activity_map_a4b5c5587f2e524585f59cbbe7b23c769}{}\label{class_activity_map_a4b5c5587f2e524585f59cbbe7b23c769}


Operator for outputting to an ostream. 


\begin{DoxyParams}{Parameters}
{\em os} & the ostream to output to \\
\hline
{\em r} & the \hyperlink{class_activity_map}{Activity\+Map} to read from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the os object 
\end{DoxyReturn}
\index{Activity\+Map@{Activity\+Map}!operator$>$$>$@{operator$>$$>$}}
\index{operator$>$$>$@{operator$>$$>$}!Activity\+Map@{Activity\+Map}}
\subsubsection[{\texorpdfstring{operator$>$$>$}{operator>>}}]{\setlength{\rightskip}{0pt plus 5cm}istream\& operator$>$$>$ (
\begin{DoxyParamCaption}
\item[{istream \&}]{is, }
\item[{{\bf Activity\+Map} \&}]{r}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [friend]}}\hypertarget{class_activity_map_aa3e2167f7a7a0bb69bf61cf7c72298e6}{}\label{class_activity_map_aa3e2167f7a7a0bb69bf61cf7c72298e6}


Operator for inputting from an istream. 


\begin{DoxyParams}{Parameters}
{\em is} & the istream to input from \\
\hline
{\em r} & the \hyperlink{class_activity_map}{Activity\+Map} to input to \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the is object 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
necsim/Activity\+Map.\+h\item 
necsim/Activity\+Map.\+cpp\end{DoxyCompactItemize}
