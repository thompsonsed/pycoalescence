<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pycoalescence package &#8212; pycoalescence 1.2.6 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/collapsible-lists/css/tree_view.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.2.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
    <script type="text/javascript" src="_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    <link rel="shortcut icon" href="_static/PyCoal_favicon_large.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="necsim module" href="necsim/necsim.html" />
    <link rel="prev" title="Modules" href="modules.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="necsim/necsim.html" title="necsim module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="modules.html" title="Modules"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pycoalescence 1.2.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">Modules</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pycoalescence">
<span id="pycoalescence-package"></span><h1>pycoalescence package<a class="headerlink" href="#module-pycoalescence" title="Permalink to this headline">¶</a></h1>
<p>pycoalescence provides the facilities for running spatially-explicit neutral coalescence ecological simulations
and performing basic analysis of the simulation outputs. The program requires necsim to function properly.</p>
<div class="section" id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="section" id="batch-process-module">
<h3>batch_process module<a class="headerlink" href="#batch-process-module" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="coalescence-tree-module">
<h3>coalescence_tree module<a class="headerlink" href="#coalescence-tree-module" title="Permalink to this headline">¶</a></h3>
<p>Detailed <a class="reference internal" href="README_landscapes.html#simulate-landscapes"><span class="std std-ref">here</span></a>.</p>
<span class="target" id="module-pycoalescence.coalescence_tree"></span><p>Contains basic analyses for the output of a pycoalescence simulation.</p>
<dl class="class">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree">
<em class="property">class </em><code class="descname">CoalescenceTree</code><span class="sig-paren">(</span><em>database=None</em>, <em>logging_level=30</em>, <em>log_output=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Contains the coalescence tree and performs various calculations of different biodiversity metrics, which are then
stored in the SQLite database.</p>
<p>The general process is</p>
<ul class="simple">
<li>Import the database (<a class="reference internal" href="#pycoalescence.coalescence_tree.CoalescenceTree.set_database" title="pycoalescence.coalescence_tree.CoalescenceTree.set_database"><code class="xref py py-meth docutils literal"><span class="pre">set_database()</span></code></a>) and import the comparison data,
if required (<a class="reference internal" href="#pycoalescence.coalescence_tree.CoalescenceTree.import_comparison_data" title="pycoalescence.coalescence_tree.CoalescenceTree.import_comparison_data"><code class="xref py py-meth docutils literal"><span class="pre">import_comparison_data()</span></code></a>)</li>
<li>Apply additional speciation rates (if required) using <a class="reference internal" href="#pycoalescence.coalescence_tree.CoalescenceTree.set_speciation_params" title="pycoalescence.coalescence_tree.CoalescenceTree.set_speciation_params"><code class="xref py py-meth docutils literal"><span class="pre">set_speciation_params()</span></code></a> and then
<a class="reference internal" href="#pycoalescence.coalescence_tree.CoalescenceTree.apply_speciation" title="pycoalescence.coalescence_tree.CoalescenceTree.apply_speciation"><code class="xref py py-meth docutils literal"><span class="pre">apply_speciation()</span></code></a></li>
<li>Calculate required metrics (such as <a class="reference internal" href="#pycoalescence.coalescence_tree.CoalescenceTree.calculate_fragment_richness" title="pycoalescence.coalescence_tree.CoalescenceTree.calculate_fragment_richness"><code class="xref py py-meth docutils literal"><span class="pre">calculate_fragment_richness()</span></code></a>)</li>
<li>Optionally, calculate the goodness of fit (<a class="reference internal" href="#pycoalescence.coalescence_tree.CoalescenceTree.calculate_goodness_of_fit" title="pycoalescence.coalescence_tree.CoalescenceTree.calculate_goodness_of_fit"><code class="xref py py-meth docutils literal"><span class="pre">calculate_goodness_of_fit()</span></code></a>)</li>
</ul>
<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.add_time">
<code class="descname">add_time</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.add_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.add_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the time to the list to be applied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time</strong> &#8211; the time to be applied</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.add_times">
<code class="descname">add_times</code><span class="sig-paren">(</span><em>times</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.add_times"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.add_times" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the list of times to those to be applied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>times</strong> &#8211; list of times to be applied</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.adjust_data">
<code class="descname">adjust_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.adjust_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.adjust_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensures that the numbers of individuals are equalised between the comparison and simulated datasets, and
modifies the relevant tables with the new data</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.apply_speciation">
<code class="descname">apply_speciation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.apply_speciation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.apply_speciation" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the list of speciation options and performs the speciation analysis by calling SpeciationCounter.
This must be run after the main coalescence simulations are complete.
It will create additional fields and tables in the SQLite database which contains the requested data.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.calculate_alpha_diversity">
<code class="descname">calculate_alpha_diversity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.calculate_alpha_diversity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.calculate_alpha_diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the system alpha diversity for each set of parameters stored in COMMUNITY_PARAMETERS.
Stores the output in ALPHA_DIVERSITY table.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.calculate_beta_diversity">
<code class="descname">calculate_beta_diversity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.calculate_beta_diversity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.calculate_beta_diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the beta diversity for the system for each speciation parameter set and stores the output in
BETA_DIVERSITY.
Will calculate alpha diversity and species richness tables if they have not already been performed.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.calculate_comparison_octaves">
<code class="descname">calculate_comparison_octaves</code><span class="sig-paren">(</span><em>store=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.calculate_comparison_octaves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.calculate_comparison_octaves" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the octave classes for the comparison data and for fragments (if required).
If the octaves exist in the FRAGMENT_OCTAVES table in the comparison database, the data will be imported
instead of being re-calculated.</p>
<p>Stores the new octave classes in self.comparison_octaves.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If store is True, will store an EDITED version of the comparison octaves, such that the number of
individuals is equal between the comparison and simulated data.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>store</strong> &#8211; if True, stores within the comparison database.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.calculate_fragment_abundances">
<code class="descname">calculate_fragment_abundances</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.calculate_fragment_abundances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.calculate_fragment_abundances" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the fragment abundances, including equalising with the comparison database, if it has already been
set.</p>
<p>Sets fragment_abundances object.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.calculate_fragment_octaves">
<code class="descname">calculate_fragment_octaves</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.calculate_fragment_octaves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.calculate_fragment_octaves" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the octave classes for each fragment. Outputs the calculated richness into the SQL database within a
FRAGMENT_OCTAVES table</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.calculate_fragment_richness">
<code class="descname">calculate_fragment_richness</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.calculate_fragment_richness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.calculate_fragment_richness" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the fragment richness and stores it in a new table called FRAGMENT_RICHNESS. Also adds the record to
BIODIVERSITY METRICS for
If the table already exists, it will simply be returned. Each time point and speciation rate combination will be
recorded as a new variable.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.calculate_goodness_of_fit">
<code class="descname">calculate_goodness_of_fit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.calculate_goodness_of_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.calculate_goodness_of_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the goodness-of-fit measure based on the calculated biodiversity metrics, scaling each metric by the
number of individuals involved in the metric.</p>
<p>This requires that import_comparison_data() has already been successfully run.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This doesn&#8217;t calculate anything for values which have not yet been written to the
BIODIVERSITY_METRICS table. All in-built functions (e.g. calculate_alpha_diversity,
calculate_fragment_richness) write to the BIODIVERSITY_METRICS table automatically, so this is only relevant
for custom functions.</p>
</div>
<p>The resulting value will then be written to the BIODIVERSITY_METRICS table in the SQL database.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.calculate_octaves">
<code class="descname">calculate_octaves</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.calculate_octaves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.calculate_octaves" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the octave classes for the landscape. Outputs the calculated richness into the SQL database within a
FRAGMENT_OCTAVES table.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.calculate_octaves_error">
<code class="descname">calculate_octaves_error</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.calculate_octaves_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.calculate_octaves_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the error in octaves classes between the simulated data and the comparison data.
Stores each error value as a new entry in BIODIVERSITY_METRICS under fragment_octaves.
Calculates the error by comparing each octave class and summing the relative difference.
Octaves are then averaged for each fragment.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.calculate_richness">
<code class="descname">calculate_richness</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.calculate_richness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.calculate_richness" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the landscape richness from across all fragments and stores result in a new table in
SPECIES_RICHNESS
Stores a separate result for each speciation rate and time.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.calculate_species_distance_similarity">
<code class="descname">calculate_species_distance_similarity</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.calculate_species_distance_similarity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.calculate_species_distance_similarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the probability two individuals are of the same species as a function of distance.</p>
<p>Stores the mean distance between individuals of the same species in the BIODIVERSITY_METRICS table, and stores
the full data in new table (SPECIES_DISTANCE_SIMILARITY). Distances are binned to the nearest integer.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Extremely slow for large landscape sizes.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.check_biodiversity_table_exists">
<code class="descname">check_biodiversity_table_exists</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.check_biodiversity_table_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.check_biodiversity_table_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the biodiversity table exists and creates the table if required.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the max reference value currently existing</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.clear_calculations">
<code class="descname">clear_calculations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.clear_calculations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.clear_calculations" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the BIODIVERSITY_METRICS and FRAGMENT_OCTAVES tables completely.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">that this cannot be undone (other than re-running the calculations).</p>
</div>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.dispersal_parameters">
<code class="descname">dispersal_parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.dispersal_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.dispersal_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the dispersal parameters from the database and returns them.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of the dispersal parameters [sigma, tau, m_probability, cutoff]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_all_fragment_abundances">
<code class="descname">get_all_fragment_abundances</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_all_fragment_abundances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_all_fragment_abundances" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the whole table of fragment abundances from the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of reference, fragment, species_id, no_individuals</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_alpha_diversity">
<code class="descname">get_alpha_diversity</code><span class="sig-paren">(</span><em>reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_alpha_diversity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_alpha_diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the system alpha diversity for the provided community reference parameters.
Alpha diversity is the mean number of species per fragment.
:param reference: the community reference for speciation parameters
:return: the alpha diversity of the system</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_beta_diversity">
<code class="descname">get_beta_diversity</code><span class="sig-paren">(</span><em>reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_beta_diversity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_beta_diversity" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the system beta diversity for the provided community reference parameters.
Beta diversity is the true beta diversity (gamma / alpha).
:param reference: the community reference for speciation parameters
:return: the beta diversity of the system</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_community_parameters">
<code class="descname">get_community_parameters</code><span class="sig-paren">(</span><em>reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_community_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_community_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary containing the parameters for the calculated community.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reference</strong> &#8211; the reference key for the calculated parameters. (default is 1)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dictionary containing the speciation_rate, time, fragments and metacommunity_reference</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_community_reference">
<code class="descname">get_community_reference</code><span class="sig-paren">(</span><em>speciation_rate</em>, <em>time</em>, <em>fragments</em>, <em>metacommunity_size=0</em>, <em>metacommunity_speciation_rate=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_community_reference"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_community_reference" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the community reference associated with the supplied community parameters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>KeyError</strong> &#8211; if COMMUNITY_PARAMETERS (or METACOMMUNITY_PARAMETERS) does not exist in database or no
reference exists for the supplied parameters</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>speciation_rate</strong> &#8211; the speciation rate of the community</li>
<li><strong>time</strong> &#8211; the time in generations of the community</li>
<li><strong>fragments</strong> &#8211; whether fragments were determined for the community</li>
<li><strong>metacommunity_size</strong> &#8211; the metacommunity size</li>
<li><strong>metacommunity_speciation_rate</strong> &#8211; the metacommunity speciation rate</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the reference associated with this set of simulation parameters</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_community_references">
<code class="descname">get_community_references</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_community_references"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_community_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a list of all the commuity references already calculated for the simulation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of all calculated community references</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_fragment_abundances">
<code class="descname">get_fragment_abundances</code><span class="sig-paren">(</span><em>fragment</em>, <em>reference</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_fragment_abundances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_fragment_abundances" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the species abundances for the supplied fragment and community reference.
:param fragment: the name of the fragment to obtain
:param reference: the reference for speciation parameters to obtain for
:return: a list of species ids and abundances</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_fragment_list">
<code class="descname">get_fragment_list</code><span class="sig-paren">(</span><em>community_reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_fragment_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_fragment_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all fragments that exist in FRAGMENT_ABUNDANCES.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>community_reference</strong> &#8211; community reference to obtain for (default 1)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list all all fragment names</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_fragment_octaves">
<code class="descname">get_fragment_octaves</code><span class="sig-paren">(</span><em>fragment=None</em>, <em>reference=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_fragment_octaves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_fragment_octaves" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the pre-calculated octave data for the specified fragment, speciation rate and time. If fragment and
speciation_rate are None, returns the entire FRAGMENT_OCTAVES object
This requires self.calculate_fragment_octaves() to have been run successfully at some point previously.</p>
<p>Returns are of form [id, fragment, community_reference, octave class, number of species]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fragment</strong> &#8211; the desired fragment (defaults to None)</li>
<li><strong>reference</strong> &#8211; the reference key for the calculated community parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">output from FRAGMENT_OCTAVES for the selected variables</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_fragment_richness">
<code class="descname">get_fragment_richness</code><span class="sig-paren">(</span><em>fragment=None</em>, <em>reference=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_fragment_richness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_fragment_richness" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the fragment richness for each speciation rate and time for the specified simulation. If the fragment
richness has not yet been calculated, it tries to calculate the fragment richness,</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fragment</strong> &#8211; the desired fragment (defaults to None)</li>
<li><strong>reference</strong> &#8211; the reference key for the calculated community parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first">sqlite3.OperationalError if no table FRAGMENT_ABUNDANCES exists</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first">RuntimeError if no data for the specified fragment, speciation rate and time exists.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list containing the fragment richness, or a value of the fragment richness</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_goodness_of_fit">
<code class="descname">get_goodness_of_fit</code><span class="sig-paren">(</span><em>reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_goodness_of_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_goodness_of_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the goodness of fit from the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reference</strong> &#8211; the community reference to get from</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the full output from the SQL query</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_goodness_of_fit_fragment_octaves">
<code class="descname">get_goodness_of_fit_fragment_octaves</code><span class="sig-paren">(</span><em>reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_goodness_of_fit_fragment_octaves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_goodness_of_fit_fragment_octaves" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the goodness of fit for fragment octaves from the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> &#8211; if BIODIVERSITY_METRICS table does not exist.</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reference</strong> &#8211; the community reference number</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the full output from the SQL query</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_goodness_of_fit_fragment_richness">
<code class="descname">get_goodness_of_fit_fragment_richness</code><span class="sig-paren">(</span><em>reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_goodness_of_fit_fragment_richness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_goodness_of_fit_fragment_richness" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the goodness of fit for fragment richness from the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> &#8211; if BIODIVERSITY_METRICS table does not exist.</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reference</strong> &#8211; the community reference number</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the full output from the SQL query</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_goodness_of_fit_metric">
<code class="descname">get_goodness_of_fit_metric</code><span class="sig-paren">(</span><em>metric</em>, <em>reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_goodness_of_fit_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_goodness_of_fit_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the goodness-of-fit measure for the specified metric and community reference.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>metric</strong> &#8211; the metric goodness of fit has been calculated for to obtain</li>
<li><strong>reference</strong> &#8211; the community reference to fetch fits for</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the goodness of fit value</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_job">
<code class="descname">get_job</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_job"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the job number (the seed) and the job type (the task identifier).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list containing [seed, job_type (the task identifier)]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_landscape_richness">
<code class="descname">get_landscape_richness</code><span class="sig-paren">(</span><em>reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_landscape_richness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_landscape_richness" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the landscape richness from the SPECIES_RICHNESS table in the database. Returns the richness for
each speciation rate and time.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This should produce the same result as get_richness(sr, t) with the corresponding sr and t.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Return type of this function changes based on whether speciation rates and times were supplied.
If they were, returns a single integer. Otherwise, returns a list of all species richnesses.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>speciation_rate</strong> &#8211; the required speciation rate (optional)</li>
<li><strong>reference</strong> &#8211; the reference key for the calculated community parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">either a list containing the speciation_rate, time, richness OR (if specific speciation rate and time
provided), the species richness at that time and speciation rate.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int, list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_metacommunity_parameters">
<code class="descname">get_metacommunity_parameters</code><span class="sig-paren">(</span><em>reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_metacommunity_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_metacommunity_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary containing the parameters for the calculated community.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>reference</strong> &#8211; the reference key for the calculated parameters. (default is 1)</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><strong>sqlite3.OperationalError</strong> &#8211; if the METACOMMUNITY_PARAMETERS table does not exist, or some other sqlite
error occurs</li>
<li><strong>KeyError</strong> &#8211; if the supplied reference does not exist in the METACOMMUNITY_PARAMETERS table</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dictionary containing the speciation_rate, time, fragments and metacommunity_reference</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_metacommunity_references">
<code class="descname">get_metacommunity_references</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_metacommunity_references"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_metacommunity_references" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a list of all the metacommuity references already calculated for the simulation.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Returns an empty list and logs an error message if the METACOMMUNITY_PARAMETERS table does not exist.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of all calculated metacommunity references</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_number_individuals">
<code class="descname">get_number_individuals</code><span class="sig-paren">(</span><em>fragment=None</em>, <em>community_reference=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_number_individuals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_number_individuals" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the number of individuals that exist, either in the provided fragment, or on the whole landscape.
Counts individuals from FRAGMENT_ABUNDANCES or SPECIES_ABUNDANCES, respectively.</p>
<p>If a community reference is provided, only individuals for that time slice will be counted, otherwise a mean is
taken across time slices.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fragment</strong> &#8211; the name of the fragment to get a count of individuals from</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the number of individuals that exists in the desired location</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_octaves">
<code class="descname">get_octaves</code><span class="sig-paren">(</span><em>reference</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_octaves"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_octaves" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the pre-calculated octave data for the parameters associated with the supplied reference.
This will call self.calculate_octaves() if it hasn&#8217;t been called previously.</p>
<p>Returns are of form [id, &#8216;whole&#8217;, time, speciation rate, octave class, number of species]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reference</strong> &#8211; community reference which contains the parameters of interest</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">output from FRAGMENT_OCTAVES on the whole landscape for the selected variables</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_parameter_description">
<code class="descname">get_parameter_description</code><span class="sig-paren">(</span><em>key=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_parameter_description"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_parameter_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the description of the parameter matching the key from those contained in SIMULATION_PARAMETERS</p>
<p>Simply accesses the _parameter_descriptions data stored in parameter_descriptions.json</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">string containing the parameter description or a dict containing all values if no key is supplied</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_richness">
<code class="descname">get_richness</code><span class="sig-paren">(</span><em>reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_richness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_richness" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the system richness for the parameters associated with the supplied community reference.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Richness of 0 is returned if there has been some problem; it is assumed that species richness
will be above 0 for any simulation.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Values generated by this method should be identical to those produced by self.get_landscape_richness()</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>reference</strong> &#8211; community reference which contains the parameters of interest</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the system species richness</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_simulation_parameters">
<code class="descname">get_simulation_parameters</code><span class="sig-paren">(</span><em>guild=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_simulation_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_simulation_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the simulation parameters from the database and returns them.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a dictionary mapping names to values for seed, job_type, output_dir, speciation_rate, sigma, L_value, deme,</td>
</tr>
</tbody>
</table>
<p>sample_size, maxtime, dispersal_relative_cost, min_spec, habitat_change_rate, gen_since_pristine, time_config,
coarse_map vars, fine map vars, sample_file, gridx, gridy, pristine coarse map, pristine fine map, sim_complete,
dispersal_method, m_probability, cutoff, landscape_type, protracted, min_speciation_gen, max_speciation_gen,
dispersal_map</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_species_abundances">
<code class="descname">get_species_abundances</code><span class="sig-paren">(</span><em>fragment=None</em>, <em>reference=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_species_abundances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_species_abundances" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the species abundance for a particular fragment, speciation rate and time. If fragment is None, returns the
whole landscape species abundances.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fragment</strong> &#8211; the fragment to obtain the species abundance of. If None, returns landscape abundances.</li>
<li><strong>speciation_rate</strong> &#8211; speciation rate to obtain abundances for</li>
<li><strong>time</strong> &#8211; the time to obtain abundances for</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">list of species abundances [reference, species ID, speciation rate, number of individuals, generation]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_species_distance_similarity">
<code class="descname">get_species_distance_similarity</code><span class="sig-paren">(</span><em>community_reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_species_distance_similarity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_species_distance_similarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the species distance similarity table for the provided community reference.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list containing the distance, number of similar species with that distance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_species_list">
<code class="descname">get_species_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_species_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_species_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the entirety of the SPECIES_LIST table, returning a tuple with an entry for each row. This can be used to
construct custom analyses of the coalescence tree.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The species list will be produced in an unprocessed format</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of each coalescence and speciation event, with locations, performed in the simulation</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.get_species_locations">
<code class="descname">get_species_locations</code><span class="sig-paren">(</span><em>community_reference=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.get_species_locations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.get_species_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the list of species locations after coalescence.</p>
<p>If a community reference is provided, will return just the species for that community reference, otherwise
returns the whole table</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>community_reference</strong> (<em>int</em>) &#8211; community reference number</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list of lists containing each row of the SPECIES_LOCATIONS table</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.import_comparison_data">
<code class="descname">import_comparison_data</code><span class="sig-paren">(</span><em>filename</em>, <em>ignore_mismatch=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.import_comparison_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.import_comparison_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports the SQL database that contains the biodiversity metrics that we want to compare against.</p>
<p>This can either be real data (for comparing simulated data) or other simulated data (for comparing between models).</p>
<p>If the SQL database does not contain the relevant biodiversity metrics, they will be calculated (if possible) or skipped.</p>
<p>The expected form of the database is the same as the BIODIVERSITY_METRICS table, except without any speciation
rates or time references, and a new column containing the number of individuals involved in each metric.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This also equalises the comparison data if ignore_mismatch is not True, so that the number of individuals
is equal between the simulated and comparison datasets.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>str</em>) &#8211; the file containing the comparison biodiversity metrics.</li>
<li><strong>ignore_mismatch</strong> (<em>bool</em>) &#8211; set to true to ignore abundance mismatches between the comparison and simulated data.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.is_completed">
<code class="descname">is_completed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.is_completed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.is_completed" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether the simulation has been performed to completion, or if the simulation has been paused and
needs to be completed before analysis can be performed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bool: true if simulation is complete</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.is_protracted">
<code class="descname">is_protracted</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.is_protracted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.is_protracted" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether the simulation is a protracted simulation or not. This is read from the completed database file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">boolean, true if the simulation was performed with protracted speciation.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.sample_fragment_richness">
<code class="descname">sample_fragment_richness</code><span class="sig-paren">(</span><em>fragment</em>, <em>number_of_individuals</em>, <em>community_reference=1</em>, <em>n=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.sample_fragment_richness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.sample_fragment_richness" title="Permalink to this definition">¶</a></dt>
<dd><p>Samples from the database from FRAGMENT_ABUNDANCES, the desired number of individuals.</p>
<p>Randomly selects the desired number of individuals from the database n times and returns the mean richness for
the random samples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>IOError</strong> &#8211; if the FRAGMENT_ABUNDANCES table does not exist in the database.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fragment</strong> &#8211; the reference of the fragment to aquire the richness for</li>
<li><strong>number_of_individuals</strong> &#8211; the number of individuals to sample</li>
<li><strong>community_reference</strong> &#8211; the reference for the community parameters</li>
<li><strong>n</strong> &#8211; number of times to repeatedly sample</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the mean of the richness from the repeats</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.sample_landscape_richness">
<code class="descname">sample_landscape_richness</code><span class="sig-paren">(</span><em>number_of_individuals</em>, <em>n=1</em>, <em>community_reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.sample_landscape_richness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.sample_landscape_richness" title="Permalink to this definition">¶</a></dt>
<dd><p>Samples from the landscape the required number of individuals, returning the mean of the species richnesses
produced.</p>
<p>If number_of_individuals is a dictionary mapping fragment names to numbers sampled, will sample the respective
number from each fragment and return the whole landscape richness.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>KeyError</strong> &#8211; if the dictionary supplied contains more sampled individuals than exist in a fragment, or
if the fragment is not contained within the dictionary.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>number_of_individuals</strong> (<em>int/dict</em>) &#8211; either an int containing the number of individuals to be sampled, or a
dictionary mapping fragment names to numbers of individuals to be sampled</li>
<li><strong>n</strong> &#8211; the number of repeats to average over</li>
<li><strong>community_reference</strong> &#8211; the community reference to fetch abundances for</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the mean of the richness from the repeats for the whole landscape</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.set_database">
<code class="descname">set_database</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.set_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.set_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the database to the specified file and opens the sqlite connection.</p>
<p>This must be done before any other operations can be performed and the
file must exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>IOError</strong> &#8211; if the simulation is not complete, as analysis can only be performed on complete simulations.
However, the database WILL be set before the error is thrown, allowing for analysis of
incomplete simulations if the error is handled correctly.</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> &#8211; the SQLite database file to import</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.set_speciation_params">
<code class="descname">set_speciation_params</code><span class="sig-paren">(</span><em>record_spatial</em>, <em>record_fragments</em>, <em>speciation_rates</em>, <em>sample_file=None</em>, <em>times=None</em>, <em>protracted_speciation_min=None</em>, <em>protracted_speciation_max=None</em>, <em>metacommunity_size=None</em>, <em>metacommunity_speciation_rate=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.set_speciation_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.set_speciation_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the parameters for the application of speciation rates. If no config files or time_config files are provided,
they will be taken from the main coalescence simulation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>str record_spatial</strong> (<em>bool</em><em>,</em>) &#8211; a boolean of whether to record spatial data</li>
<li><strong>str record_fragments</strong> (<em>bool</em><em>,</em>) &#8211; either a csv file containing fragment data, or T/F for whether fragments should be
calculated from squares of continuous habitat.</li>
<li><strong>speciation_rates</strong> (<em>list</em>) &#8211; a list of speciation rates to apply</li>
<li><strong>sample_file</strong> (<em>str</em>) &#8211; a sample tif or csv specifying the sampling mask</li>
<li><strong>times</strong> (<em>list</em>) &#8211; a list of times to apply (should have been run with the original simulation)</li>
<li><strong>protracted_speciation_min</strong> (<em>float</em>) &#8211; the minimum number of generations required for speciation to occur</li>
<li><strong>protracted speciation_max</strong> (<em>float</em>) &#8211; the maximum number of generations before speciation occurs</li>
<li><strong>metacommunity_size</strong> (<em>float</em>) &#8211; the size of the metacommunity to apply</li>
<li><strong>metacommunity_speciation_rate</strong> (<em>float</em>) &#8211; speciation rate for the metacommunity</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>speciation_program='/Users/samthompson/Documents/PhD/Code/pycoalescence/pycoalescence/build/default/SpeciationCounter'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up the link to the SpeciationCounter program. Defaults to the build/default/SpeciationCounter
:param speciation_program: optionally provide a path to an alternative SpeciationCounter program.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 1.2.4: </span>Deprecated due to movement towards using python API for applying speciation rates.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.coalescence_tree.CoalescenceTree.wipe_data">
<code class="descname">wipe_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#CoalescenceTree.wipe_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.CoalescenceTree.wipe_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Wipes all calculated data apart from the original, unformatted coalescence tree.
The Speciation_Counter program will have to be re-run to perform any analyses.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pycoalescence.coalescence_tree.collate_fits">
<code class="descname">collate_fits</code><span class="sig-paren">(</span><em>file_dir</em>, <em>filename='Collated_fits.db'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#collate_fits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.collate_fits" title="Permalink to this definition">¶</a></dt>
<dd><p>Collates the goodness of fit values from every file in the specified directory and places them in one new file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Files with &#8216;collated&#8217; in the name will be ignored.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the output file exists, it will be deleted.</p>
</div>
<p>Creates three separate tables in the output file, one for overall goodness of fit, one for fragment richness fits,
and one for fragment octaves fits.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_dir</strong> &#8211; the file directory to examine</li>
<li><strong>filename</strong> &#8211; [optional] the output file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.coalescence_tree.get_parameter_description">
<code class="descname">get_parameter_description</code><span class="sig-paren">(</span><em>key=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#get_parameter_description"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.get_parameter_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the parameter descriptions for the supplied key. If the key is None, returns all keys.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> &#8211; the simulation parameter</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">string containing the parameter description or a dict containing all values if no key is supplied</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.coalescence_tree.scale_simulation_fit">
<code class="descname">scale_simulation_fit</code><span class="sig-paren">(</span><em>simulated_value</em>, <em>actual_value</em>, <em>number_individuals</em>, <em>total_individuals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/coalescence_tree.html#scale_simulation_fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.coalescence_tree.scale_simulation_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates goodness of fit for the provided values, and scales based on the total number of individuals that exist.
The calculation is 1 - (<a href="#id1"><span class="problematic" id="id2">|x - y|</span></a>/max(x, y)) * n/n_tot for x, y simulated and actual values, n, n_tot for metric and total
number of individuals.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>simulated_value</strong> &#8211; the simulated value of the metric</li>
<li><strong>actual_value</strong> &#8211; the actual value of the metric</li>
<li><strong>number_individuals</strong> &#8211; the number of individuals this metric relates to</li>
<li><strong>total_individuals</strong> &#8211; the total number of individuals across all sites for this metric</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the scaled fit value</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="simulation-module">
<h3>simulation module<a class="headerlink" href="#simulation-module" title="Permalink to this headline">¶</a></h3>
<p>Detailed <a class="reference internal" href="README_pycoalescence.html#performing-simulations"><span class="std std-ref">here</span></a>.</p>
<span class="target" id="module-pycoalescence.simulation"></span><p>Contains the Simulation class as part of the pycoalescence package.</p>
<p>Operations involve setting up and running simulations, plus basic tree generation after simulations have been completed.</p>
<dl class="class">
<dt id="pycoalescence.simulation.Simulation">
<em class="property">class </em><code class="descname">Simulation</code><span class="sig-paren">(</span><em>logging_level=30</em>, <em>log_output=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">pycoalescence.landscape.Landscape</span></code></p>
<p>A class containing routines to set up and run simulations, including detecting map dimensions from tif files.</p>
<dl class="method">
<dt id="pycoalescence.simulation.Simulation.add_sample_time">
<code class="descname">add_sample_time</code><span class="sig-paren">(</span><em>time</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.add_sample_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.add_sample_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an extra sample time to the list of times.</p>
<p>This allows for multiple temporal sample points from within the same simulation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>time</strong> &#8211; the sample time to add</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.calculate_sql_database">
<code class="descname">calculate_sql_database</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.calculate_sql_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.calculate_sql_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the output database location to self.output_database.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.check_maps">
<code class="descname">check_maps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.check_maps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.check_maps" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that the maps all exist and that the file structure makes sense.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><strong>TypeError</strong> &#8211; if a dispersal map or reproduction map is specified, we must have a fine map specified, but
not a coarse map.</li>
<li><strong>IOError</strong> &#8211; if one of the required maps does not exist</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.check_sample_map_equals_sample_grid">
<code class="descname">check_sample_map_equals_sample_grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.check_sample_map_equals_sample_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.check_sample_map_equals_sample_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the grid and sample map are the same size and offset (in which case, future operations can be
simplified).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">true if the grid and sample map dimensions and offsets are equal</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.check_simulation_params">
<code class="descname">check_simulation_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.check_simulation_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.check_simulation_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that simulation parameters have been correctly set and the program is ready for running.
Note that these checks have not been fully tested and are probably unnecessary in a large number of cases.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.check_sql_database">
<code class="descname">check_sql_database</code><span class="sig-paren">(</span><em>expected=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.check_sql_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.check_sql_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the output database exists. If the existance does not match the expected variable, raises an
error.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><strong>FileExistsError</strong> &#8211; if the file already exists when it&#8217;s not expected to</li>
<li><strong>FileNotExistsError</strong> &#8211; if the file does not exist when we expect it to</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>expected</strong> &#8211; boolean for expected existance of the output file</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.count_individuals">
<code class="descname">count_individuals</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.count_individuals"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.count_individuals" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the number of individuals to be simulated. This may be inaccurate if using multiple time points and
historical maps.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a count of the number of individuals to be simulated</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.create_config">
<code class="descname">create_config</code><span class="sig-paren">(</span><em>output_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.create_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.create_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the output config files. This version creates the concise version of the config file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>output_file</strong> (<em>str</em>) &#8211; the file to generate the config option. Must be a path to a .txt file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.create_map_config">
<code class="descname">create_map_config</code><span class="sig-paren">(</span><em>output_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.create_map_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.create_map_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the map config file from reading the spatial structure of each of the provided files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>output_file</strong> (<em>str</em>) &#8211; the file to output configuration data to (the map config file)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.create_temporal_sampling_config">
<code class="descname">create_temporal_sampling_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.create_temporal_sampling_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.create_temporal_sampling_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the time-sampling config file.</p>
<p>Function is called automatically when creating a config file, and should not be manually called.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.detect_map_dimensions">
<code class="descname">detect_map_dimensions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.detect_map_dimensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.detect_map_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Detects all the map dimensions for the provided files (where possible) and sets the respective values.
This is intended to be run after set_map_files()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>TypeError</strong> &#8211; if a dispersal map or reproduction map is specified, we must have a fine map specified, but</td>
</tr>
</tbody>
</table>
<p>not a coarse map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><strong>IOError</strong> &#8211; if one of the required maps does not exist</li>
<li><strong>ValueError</strong> &#8211; if the dimensions of the dispersal map do not make sense when used with the fine map</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>provided</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.estimate_ram_usage">
<code class="descname">estimate_ram_usage</code><span class="sig-paren">(</span><em>grid_individuals</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.estimate_ram_usage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.estimate_ram_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the RAM usage for the program with the current parameters.</p>
<p>Note this estimates the upper bound of memory usage and is likely inaccurate, especially for simulations with
multiple time sampling points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>grid_individuals</strong> &#8211; the number of individuals existing on the grid</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the estimated RAM usage in bytes</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.finalise_setup">
<code class="descname">finalise_setup</code><span class="sig-paren">(</span><em>config_default=True</em>, <em>expected=False</em>, <em>ignore_errors=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.finalise_setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.finalise_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs all setup routines to provide a complete simulation. Should be called immediately before run_coalescence()
to ensure the simulation setup is complete.
Calls check_simulation_params, generate_command() and run_checks()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>config_default</strong> &#8211; set to false if want config file to only be created if necessary. Defaults to True</li>
<li><strong>ignore_errors</strong> &#8211; if true, any FileNotFoundError and FileExistsError raised by checking the output database</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>are ignored
:param expected: set to true if we expect the output file to exist</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.get_average_density">
<code class="descname">get_average_density</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.get_average_density"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.get_average_density" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the average density across the fine map, subsetted for the sample grid.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.get_optimised_solution">
<code class="descname">get_optimised_solution</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.get_optimised_solution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.get_optimised_solution" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the optimised solution as a dictionary containing the important optimised variables.
This can be read back in with set_optimised_solution</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dict containing the important optimised variables</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.get_protracted">
<code class="descname">get_protracted</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.get_protracted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.get_protracted" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets whether the simulation pointed to by this object is a protracted simulation or not.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.get_richness">
<code class="descname">get_richness</code><span class="sig-paren">(</span><em>reference=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.get_richness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.get_richness" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls coal_analyse.get_richness() with the supplied variables.</p>
<p>Requires successful import of coal_analyse and sqlite3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>speciation_rate</strong> &#8211; the speciation rate to extract system richness from.</li>
<li><strong>time</strong> &#8211; the time to extract system richness from</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the species richness.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.grid_density_actual">
<code class="descname">grid_density_actual</code><span class="sig-paren">(</span><em>x_off</em>, <em>y_off</em>, <em>x_dim</em>, <em>y_dim</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.grid_density_actual"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.grid_density_actual" title="Permalink to this definition">¶</a></dt>
<dd><p>Counts the density total for a subset of the grid by sampling from the fine map.</p>
<p>Note that for large maps this can take a very long time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_off</strong> &#8211; the x offset of the grid map subset</li>
<li><strong>y_off</strong> &#8211; the y offset of the grid map subset</li>
<li><strong>x_dim</strong> &#8211; the x dimension of the grid map subset</li>
<li><strong>y_dim</strong> &#8211; the y dimension of the grid map subset</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the total individuals that exist in the subset.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.grid_density_estimate">
<code class="descname">grid_density_estimate</code><span class="sig-paren">(</span><em>x_off</em>, <em>y_off</em>, <em>x_dim</em>, <em>y_dim</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.grid_density_estimate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.grid_density_estimate" title="Permalink to this definition">¶</a></dt>
<dd><p>Counts the density total for a subset of the grid by sampling from the fine map</p>
<p>Note that this function is an approximation (based on the average density of the fine map) and does not produce
a perfect value. This is done for performance reasons. The actual value can be obtained with
grid_density_actual().</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_off</strong> &#8211; the x offset of the grid map subset</li>
<li><strong>y_off</strong> &#8211; the y offset of the grid map subset</li>
<li><strong>x_dim</strong> &#8211; the x dimension of the grid map subset</li>
<li><strong>y_dim</strong> &#8211; the y dimension of the grid map subset</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">an estimate of the total individuals that exist in the subset.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.import_fine_map_array">
<code class="descname">import_fine_map_array</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.import_fine_map_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.import_fine_map_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports the fine map array to the in-memory object, subsetted to the same size as the sample grid.
:rtype: None</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.import_sample_map_array">
<code class="descname">import_sample_map_array</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.import_sample_map_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.import_sample_map_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Imports the sample map array to the in-memory object.
:rtype: None</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.load_config">
<code class="descname">load_config</code><span class="sig-paren">(</span><em>config_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.load_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.load_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the config file by reading the lines in order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>config_file</strong> (<em>str</em>) &#8211; the config file to read in.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.optimise_ram">
<code class="descname">optimise_ram</code><span class="sig-paren">(</span><em>ram_limit</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.optimise_ram"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.optimise_ram" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimises the maps for a specific RAM usage.</p>
<p>If ram_limit is None, this function does nothing.</p>
<p>:note Assumes that the c++ compiler has sizeof(long) = 8 bytes for calculating space usage.</p>
<dl class="docutils">
<dt>:note Only optimises RAM for a square area of the map. For rectangular shapes, will use the shortest length as</dt>
<dd>a maximum size.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ram_limit</strong> &#8211; the desired amount of RAM to limit to, in GB</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>MemoryError</strong> &#8211; if the desired simulation cannot be compressed into available RAM</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.persistent_ram_usage">
<code class="descname">persistent_ram_usage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.persistent_ram_usage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.persistent_ram_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the persistent RAM usage which cannot be optimised by the program for a particular set of maps
:return: the total persistent RAM usage in bytes</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.resume_coalescence">
<code class="descname">resume_coalescence</code><span class="sig-paren">(</span><em>pause_directory</em>, <em>seed</em>, <em>job_type</em>, <em>max_time</em>, <em>out_directory=None</em>, <em>protracted=None</em>, <em>spatial=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.resume_coalescence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.resume_coalescence" title="Permalink to this definition">¶</a></dt>
<dd><p>Resumes the simulation from the specified directory, looking for the simulation with the specified seed and task
referencing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>pause_directory</strong> &#8211; the directory to search for the paused simulation</li>
<li><strong>seed</strong> &#8211; the seed of the paused simulation</li>
<li><strong>job_type</strong> &#8211; the task of the paused simulation</li>
<li><strong>max_time</strong> &#8211; the maximum time to run simulations for</li>
<li><strong>out_directory</strong> &#8211; optionally provide an alternative output location. Defaults to same location as</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>pause_directory
:param bool protracted: protractedness of the simulation
:param bool spatial: if the simulation is to be run with spatial complexity</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.run_checks">
<code class="descname">run_checks</code><span class="sig-paren">(</span><em>expected=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.run_checks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.run_checks" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the simulation is correctly set up and that all the required files exist.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>expected</strong> &#8211; set to true if we expect the output file to already exist</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>RuntimeError</strong> &#8211; if previous set-up routines are not complete</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.run_coalescence">
<code class="descname">run_coalescence</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.run_coalescence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.run_coalescence" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to run the simulation with the given simulation set-up.
This is the main routine performing the actual simulation which will take a considerable amount of time.</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.run_simple">
<code class="descname">run_simple</code><span class="sig-paren">(</span><em>seed</em>, <em>task</em>, <em>output</em>, <em>alpha</em>, <em>sigma</em>, <em>size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.run_simple"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.run_simple" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a simple coalescence simulation on a square infinite landscape with the provided parameters.
This requires a separate compilation of the inf_land version of the coalescence simulator.</p>
<p>Note that this function returns richness=0 for failure to read from the file. It is assumed that there will
be at least one species in the simulation.</p>
<p>Note that the maximum time for this function is set as 10 hours (36000 seconds) and will raise an exception if
the simulation does not complete in this time).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>RuntimeError</strong> &#8211; if the simulation didn&#8217;t complete in time.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>seed</strong> &#8211; the simulation seed</li>
<li><strong>task</strong> &#8211; the task (for file naming)</li>
<li><strong>output</strong> &#8211; the output directory</li>
<li><strong>alpha</strong> &#8211; the speciation rate</li>
<li><strong>sigma</strong> &#8211; the normal distribution sigma value for dispersal</li>
<li><strong>size</strong> &#8211; the size of the world (so there will be size^2 individuals simulated)</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the species richness in the simulation</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.set_config_file">
<code class="descname">set_config_file</code><span class="sig-paren">(</span><em>output_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.set_config_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.set_config_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the config file to the output, over-writing any existing config file that has been stored.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>output_file</strong> &#8211; path to config file to output to</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.set_map_files">
<code class="descname">set_map_files</code><span class="sig-paren">(</span><em>sample_file</em>, <em>fine_file=None</em>, <em>coarse_file=None</em>, <em>pristine_fine_file=None</em>, <em>pristine_coarse_file=None</em>, <em>dispersal_map=None</em>, <em>reproduction_map=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.set_map_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.set_map_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the map files (or to null, if none specified). It then calls detect_map_dimensions() to correctly read in
the specified dimensions.</p>
<p>If sample_file is &#8220;null&#8221;, dimension values will remain at 0.
If coarse_file is &#8220;null&#8221;, it will default to the size of fine_file with zero offset.
If the coarse file is &#8220;none&#8221;, it will not be used.
If the pristine fine or coarse files are &#8220;none&#8221;, they will not be used.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">the dispersal map should be of dimensions xy by xy where x, y are the fine map dimensions. Dispersal
probabilities should sum to 1 across each row, and each row/column index represents dispersal from the
row index to the column index according to index = x+(y*xdim), where x,y are the coordinates of the
cell and xdim is the x dimension of the fine map. See the
<code class="xref py py-class docutils literal"><span class="pre">PatchedLandscape</span> <span class="pre">class</span></code> for routines for
generating these landscapes.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sample_file</strong> (<em>str</em>) &#8211; the sample map file. Provide &#8220;null&#8221; if on samplemask is required</li>
<li><strong>fine_file</strong> (<em>str</em>) &#8211; the fine map file. Defaults to &#8220;null&#8221; if none provided</li>
<li><strong>coarse_file</strong> (<em>str</em>) &#8211; the coarse map file. Defaults to &#8220;none&#8221; if none provided</li>
<li><strong>pristine_fine_file</strong> (<em>str</em>) &#8211; the pristine fine map file. Defaults to &#8220;none&#8221; if none provided</li>
<li><strong>pristine_coarse_file</strong> (<em>str</em>) &#8211; the pristine coarse map file. Defaults to &#8220;none&#8221; if none provided</li>
<li><strong>dispersal_map</strong> (<em>str</em>) &#8211; the dispersal map for reading dispersal values. Default to &#8220;none&#8221; if none provided</li>
<li><strong>reproduction_map</strong> (<em>str</em>) &#8211; a map of relative reproduction probabilities, at the scale of the fine map</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">None</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.set_optimised_solution">
<code class="descname">set_optimised_solution</code><span class="sig-paren">(</span><em>dict_in</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.set_optimised_solution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.set_optimised_solution" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the optimised RAM solution from the variables in the provided dictionary.
This should contain the grid_x_size, grid_y_size, grid_file_name, sample_x_offset and sample_y_offset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dict_in</strong> (<em>dict</em>) &#8211; the dictionary containing the optimised RAM solution variables</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.set_simulation_params">
<code class="descname">set_simulation_params</code><span class="sig-paren">(</span><em>seed</em>, <em>job_type</em>, <em>output_directory</em>, <em>min_speciation_rate</em>, <em>sigma=1.0</em>, <em>tau=1.0</em>, <em>deme=1</em>, <em>sample_size=1.0</em>, <em>max_time=3600</em>, <em>dispersal_method=None</em>, <em>m_prob=0.0</em>, <em>cutoff=0</em>, <em>dispersal_relative_cost=1</em>, <em>min_num_species=1</em>, <em>habitat_change_rate=0.0</em>, <em>gen_since_pristine=1</em>, <em>restrict_self=False</em>, <em>landscape_type=False</em>, <em>protracted=False</em>, <em>min_speciation_gen=None</em>, <em>max_speciation_gen=None</em>, <em>spatial=True</em>, <em>uses_spatial_sampling=False</em>, <em>times=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.set_simulation_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.set_simulation_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Set all the simulation parameters apart from the map objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>seed</strong> (<em>int</em>) &#8211; the unique job number for this simulation set</li>
<li><strong>job_type</strong> (<em>int</em>) &#8211; the job type (used for easy file identification after simulations are complete)</li>
<li><strong>output_directory</strong> (<em>str</em>) &#8211; the output directory to store the SQL database</li>
<li><strong>min_speciation_rate</strong> (<em>float</em>) &#8211; the minimum speciation rate to simulate</li>
<li><strong>sigma</strong> (<em>float</em>) &#8211; the dispersal sigma value</li>
<li><strong>tau</strong> (<em>float</em>) &#8211; the fat-tailed dispersal tau value</li>
<li><strong>deme</strong> (<em>int</em>) &#8211; the deme size (in individuals per cell)</li>
<li><strong>sample_size</strong> (<em>float</em>) &#8211; the sample size of the deme (decimal 0-1)</li>
<li><strong>max_time</strong> (<em>float</em>) &#8211; the maximum allowed simulation time (in seconds)</li>
<li><strong>dispersal_method</strong> (<em>str</em>) &#8211; the dispersal kernel method. Should be one of [normal, fat-tail, norm-uniform]</li>
<li><strong>m_prob</strong> (<em>float</em>) &#8211; the probability of drawing from the uniform dispersal. Only relevant for uniform dispersals</li>
<li><strong>cutoff</strong> (<em>float</em>) &#8211; the maximum value for the uniform dispersal. Only relevant for uniform dispersals.</li>
<li><strong>dispersal_relative_cost</strong> (<em>float</em>) &#8211; the relative cost of travelling through non-habitat (defaults to 1)</li>
<li><strong>min_num_species</strong> (<em>int</em>) &#8211; the minimum number of species known to exist (defaults to 1</li>
<li><strong>habitat_change_rate</strong> (<em>float</em>) &#8211; the rate of habitat change over time</li>
<li><strong>gen_since_pristine</strong> (<em>float</em>) &#8211; the time in generations since a pristine state was achieved</li>
<li><strong>restrict_self</strong> (<em>bool</em>) &#8211; if true, restricts dispersal from own cell</li>
<li><strong>landscape_type</strong> (<em>bool/str</em>) &#8211; if false or &#8220;closed&#8221;, restricts dispersal to the provided maps, otherwise</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>can be &#8220;infinite&#8221;, or a tiled landscape using &#8220;tiled_coarse&#8221; or &#8220;tiled_fine&#8221;.
:param bool protracted: if true, uses protracted speciation application
:param float min_speciation_gen: the minimum amount of time a lineage must exist before speciation occurs.
:param float max_speciation_gen: the maximum amount of time a lineage can exist before speciating.
:param bool spatial: if true, means that the simulation is spatial
:param bool uses_spatial_sampling: if true, the sample mask is interpreted as a proportional sampling mask,</p>
<blockquote>
<div>where the number of individuals sampled in the cell is equal to the
density * deme_sample * cell sampling proportion</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>times</strong> (<em>list</em>) &#8211; list of temporal sampling points to apply (in generations)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.set_speciation_rates">
<code class="descname">set_speciation_rates</code><span class="sig-paren">(</span><em>speciation_rates</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.set_speciation_rates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.set_speciation_rates" title="Permalink to this definition">¶</a></dt>
<dd><p>Add speciation rates for analysis at the end of the simulation. This is optional</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>speciation_rates</strong> (<em>list</em>) &#8211; a list of speciation rates to apply at the end of the simulation</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.simulation.Simulation.setup_necsim">
<code class="descname">setup_necsim</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/simulation.html#Simulation.setup_necsim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.simulation.Simulation.setup_necsim" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the logging function and the logger object for the necsim object. Enforcing this function is always called
ensures no seg faults occur.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="fragments-module">
<h3>fragments module<a class="headerlink" href="#fragments-module" title="Permalink to this headline">¶</a></h3>
<p>Detailed <a class="reference internal" href="README_landscapes.html#simulate-landscapes"><span class="std std-ref">here</span></a>.</p>
<span class="target" id="module-pycoalescence.fragments"></span><p>Contains the FragmentedLandscape class for creating a fragmented landscape using hexagonal packing and an even spread of
individuals between fragments. Requires scipy and matplotlib.</p>
<dl class="class">
<dt id="pycoalescence.fragments.Fragment">
<em class="property">class </em><code class="descname">Fragment</code><span class="sig-paren">(</span><em>x=None</em>, <em>y=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/fragments.html#Fragment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.fragments.Fragment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Simple class containing the centres of fragments for a fragmented landscape</p>
<dl class="method">
<dt id="pycoalescence.fragments.Fragment.place_on_grid">
<code class="descname">place_on_grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/fragments.html#Fragment.place_on_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.fragments.Fragment.place_on_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the x and y positions to integers (always rounds down).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.fragments.Fragment.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/fragments.html#Fragment.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.fragments.Fragment.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up the fragment from the x and y position.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> &#8211; the x position of the fragment centre</li>
<li><strong>y</strong> &#8211; the y position of the fragment centre</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycoalescence.fragments.FragmentedLandscape">
<em class="property">class </em><code class="descname">FragmentedLandscape</code><span class="sig-paren">(</span><em>number_fragments=None</em>, <em>size=None</em>, <em>total=None</em>, <em>output_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/fragments.html#FragmentedLandscape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.fragments.FragmentedLandscape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Contains hexagonal packing algorithms for spacing clumps evenly on the landscape. Includes a LLoyd&#8217;s smoothing
algorithm for better spacing of fragments.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Fragments will not be distinct units for unfragmented landscapes (with above around 50% habitat cover).</p>
</div>
<dl class="method">
<dt id="pycoalescence.fragments.FragmentedLandscape.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>override_smoothing=None</em>, <em>n=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/fragments.html#FragmentedLandscape.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.fragments.FragmentedLandscape.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the landscape, including running the hexagonal packing and smoothing algorithms (if required).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">smoothing is recommended for any landscape that is doesn&#8217;t contain a square number of fragments.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>override_smoothing</strong> &#8211; if true, overrides the default smoothing settings (enabled for landscapes with fewer
than 100000 fragments.</li>
<li><strong>n</strong> &#8211; the number of iterations to run Lloyd&#8217;s algorithm for</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.fragments.FragmentedLandscape.fill_grid">
<code class="descname">fill_grid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/fragments.html#FragmentedLandscape.fill_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.fragments.FragmentedLandscape.fill_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Distributes the sizes evenly between the fragments, generating the actual landscape.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.fragments.FragmentedLandscape.generate">
<code class="descname">generate</code><span class="sig-paren">(</span><em>override_smoothing=None</em>, <em>n=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/fragments.html#FragmentedLandscape.generate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.fragments.FragmentedLandscape.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function for creating fragments in one function. Generates the landscape and writes out to the
output file.</p>
<p>If smoothing is true, will run Lloyd&#8217;s algorithm
after the hexagonal packing algorithm to increase the equality of the spacing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">smoothing is recommended for any landscape that is doesn&#8217;t contain a square number of fragments.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>override_smoothing</strong> &#8211; if true, overrides the default smoothing settings (enabled for landscapes with fewer
than 100000 fragments.</li>
<li><strong>n</strong> &#8211; the number of iterations to run Lloyd&#8217;s algorithm for</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.fragments.FragmentedLandscape.place_fragments">
<code class="descname">place_fragments</code><span class="sig-paren">(</span><em>smoothing=True</em>, <em>n=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/fragments.html#FragmentedLandscape.place_fragments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.fragments.FragmentedLandscape.place_fragments" title="Permalink to this definition">¶</a></dt>
<dd><p>Places the fragments evenly on the landscape. If smoothing is true, will run Lloyd&#8217;s algorithm after the
hexagonal packing algorithm to increase the equality of the spacing.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">smoothing is recommended for any landscape that is doesn&#8217;t contain a square number of fragments.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>smoothing</strong> &#8211; if true, runs Lloyd&#8217;s algorithm after the hexagonal packing</li>
<li><strong>n</strong> &#8211; the number of iterations to run Lloyd&#8217;s algorithm for</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.fragments.FragmentedLandscape.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/fragments.html#FragmentedLandscape.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.fragments.FragmentedLandscape.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a matplotlib.pyplot.figure object containing an image of the fragmented landscape (with axes removed).</p>
<p>Requires that the fragmented landscape has been created already using <a class="reference internal" href="#pycoalescence.fragments.FragmentedLandscape.create" title="pycoalescence.fragments.FragmentedLandscape.create"><code class="xref py py-meth docutils literal"><span class="pre">create()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">figure object containing the fragmented landscape.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">matplotlib.pyplot.figure</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.fragments.FragmentedLandscape.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>number_fragments</em>, <em>size</em>, <em>total</em>, <em>output_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/fragments.html#FragmentedLandscape.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.fragments.FragmentedLandscape.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up the landscape by checking parameters and setting object sizes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>number_fragments</strong> &#8211; the number of individual fragments to exist on the landscape</li>
<li><strong>size</strong> &#8211; the size of the x and y dimensions of the landscape</li>
<li><strong>total</strong> &#8211; the total number of individuals to place on the landscape</li>
<li><strong>output_file</strong> &#8211; the output tif file to write the output to</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.fragments.FragmentedLandscape.write_to_raster">
<code class="descname">write_to_raster</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/fragments.html#FragmentedLandscape.write_to_raster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.fragments.FragmentedLandscape.write_to_raster" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the landscape to a tif file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><strong>FileExistsError</strong> &#8211; if the output file already exists</td>
</tr>
<tr class="field-even field"><th class="field-name">Parameters:</th><td class="field-body"><strong>output_file</strong> &#8211; the path to the tif file to write out to.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="map-module">
<h3>map module<a class="headerlink" href="#map-module" title="Permalink to this headline">¶</a></h3>
<p>Detailed <a class="reference internal" href="README_landscapes.html#simulate-landscapes"><span class="std std-ref">here</span></a>.</p>
<span class="target" id="module-pycoalescence.map"></span><p>Contains the Map class as part of the PyCoalescence Project.</p>
<p>Operations involve simulating dispersal kernels on maps, detecting map file dimensions and obtaining offsets between
maps.</p>
<dl class="class">
<dt id="pycoalescence.map.Map">
<em class="property">class </em><code class="descname">Map</code><span class="sig-paren">(</span><em>file=None</em>, <em>is_sample=None</em>, <em>logging_level=30</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>A class for the map object, containing the file name and the variables associated with this map object.</p>
<p>The internal array of the tif file is stored in self.data, and band 1 of the file can be opened by using
open()</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Currently, Map does not support skewed rasters (not north/south).</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><strong>data</strong> &#8211; if the map file has been opened, contains the full tif data as a numpy array.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pycoalescence.map.Map.calculate_offset">
<code class="descname">calculate_offset</code><span class="sig-paren">(</span><em>file_offset</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.calculate_offset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.calculate_offset" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the offset of the map object from the supplied file_offset.</p>
<p>The self map should be the smaller</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_offset</strong> (<em>str/Map</em>) &#8211; the path to the file to calculate the offset.
Can also be a Map object with the filename contained.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>TypeError</strong> &#8211; if the spatial reference systems of the two files do not match</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the offset x and y (at the resolution of the file_home) in integers</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.calculate_scale">
<code class="descname">calculate_scale</code><span class="sig-paren">(</span><em>file_scaled</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.calculate_scale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.calculate_scale" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the scale of map object from the supplied file_scaled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_scaled</strong> (<em>str/Map</em>) &#8211; the path to the file to calculate the scale.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the scale (of the x dimension)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.check_map">
<code class="descname">check_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.check_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.check_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that the dimensions for the map have been set and that the map file exists</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.convert_lat_long">
<code class="descname">convert_lat_long</code><span class="sig-paren">(</span><em>lat</em>, <em>long</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.convert_lat_long"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.convert_lat_long" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the input latitude and longitude to x, y coordinates on the Map</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>lat</strong> &#8211; the latitude to obtain the y coordinate of</li>
<li><strong>long</strong> &#8211; the longitude to obtain the x coordinate of</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>IndexError</strong> &#8211; if the provided coordinates are outside the Map object.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">[x, y] coordinates on the Map</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>file</em>, <em>bands=1</em>, <em>datatype=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the file output and writes the data to the output.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file</strong> &#8211; the output file to create</li>
<li><strong>bands</strong> &#8211; optionally provide a number of bands to create</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.create_copy">
<code class="descname">create_copy</code><span class="sig-paren">(</span><em>dst_file</em>, <em>src_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.create_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.create_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a file copying projection and other attributes over from the desired copy</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_file</strong> &#8211; existing file to copy attributes from</li>
<li><strong>src_file</strong> &#8211; the output file to create</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.get_cached_subset">
<code class="descname">get_cached_subset</code><span class="sig-paren">(</span><em>x_offset</em>, <em>y_offset</em>, <em>x_size</em>, <em>y_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.get_cached_subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.get_cached_subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a subset of the map file, BUT rounds all numbers to integers to save RAM and keeps the entire array in
memory to speed up fetches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_offset</strong> &#8211; the x offset from the top left corner of the map</li>
<li><strong>y_offset</strong> &#8211; the y offset from the top left corner of the map</li>
<li><strong>x_size</strong> &#8211; the x size of the subset to obtain</li>
<li><strong>y_size</strong> &#8211; the y size of the subset to obtain</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a numpy array containing the subsetted data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.get_dimensions">
<code class="descname">get_dimensions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.get_dimensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.get_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls read_dimensions() if dimensions have not been read, or reads stored information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list containing [0] x, [1] y, [2] x offset, [3] y offset, [4] x resolution, [5] y resolution,
[6] upper left x, [7] upper left y</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.get_dtype">
<code class="descname">get_dtype</code><span class="sig-paren">(</span><em>band_no=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.get_dtype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.get_dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the data type of the provided band number
:param band_no: band number to obtain the data type of</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the gdal data type number in the raster file</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.get_extent">
<code class="descname">get_extent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.get_extent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.get_extent" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the left and right x, and lower and upper y values.
:return: list of the left x, right x, upper y, lower y values.
:rtype: list</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.get_projection">
<code class="descname">get_projection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.get_projection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.get_projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the projection of the map</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.get_subset">
<code class="descname">get_subset</code><span class="sig-paren">(</span><em>x_offset</em>, <em>y_offset</em>, <em>x_size</em>, <em>y_size</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.get_subset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.get_subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a subset of the map file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_offset</strong> &#8211; the x offset from the top left corner of the map</li>
<li><strong>y_offset</strong> &#8211; the y offset from the top left corner of the map</li>
<li><strong>x_size</strong> &#8211; the x size of the subset to obtain</li>
<li><strong>y_size</strong> &#8211; the y size of the subset to obtain</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a numpy array containing the subsetted data</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.get_x_y">
<code class="descname">get_x_y</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.get_x_y"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.get_x_y" title="Permalink to this definition">¶</a></dt>
<dd><p>Simply returns the x and y dimension of the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the x and y dimensions</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.has_equal_dimensions">
<code class="descname">has_equal_dimensions</code><span class="sig-paren">(</span><em>map</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.has_equal_dimensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.has_equal_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the supplied Map has equal dimensions to this Map.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Dimension matching uses an absolute value (0.0001) for latitude/longitude, and relative value for
pixel resolution. The map sizes must fit perfectly.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>map</strong> (<a class="reference internal" href="#pycoalescence.map.Map" title="pycoalescence.map.Map"><em>Map</em></a>) &#8211; the Map object to check if dimensions match</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">true if the dimensions match, false otherwise</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.is_within">
<code class="descname">is_within</code><span class="sig-paren">(</span><em>map</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.is_within"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.is_within" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the object is within the provided Map object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Uses the extents of the raster file for checking location, ignoring any offsetting</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>map</strong> (<a class="reference internal" href="#pycoalescence.map.Map" title="pycoalescence.map.Map"><em>Map</em></a>) &#8211; the Map object to check if this class is within</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">true if this Map is entirely within the supplied Map</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.open">
<code class="descname">open</code><span class="sig-paren">(</span><em>file=None</em>, <em>band_no=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the raster file from memory into the data object.
This allows direct access to the internal numpy array using the data object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file</strong> (<em>str</em>) &#8211; path to file to open (or None to use self.file_name</li>
<li><strong>band_no</strong> (<em>int</em>) &#8211; the band number to read from</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.output_exists">
<code class="descname">output_exists</code><span class="sig-paren">(</span><em>file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.output_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.output_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the output (or provided file) exists.</p>
<p>If file is provided, self.file_name is set to file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file</strong> &#8211; optionally, the file to check exists</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">true if the output file does exist</td>
</tr>
<tr class="field-odd field"><th class="field-name">Rtype bool:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.rasterise">
<code class="descname">rasterise</code><span class="sig-paren">(</span><em>shape_file, raster_file=None, x_res=None, y_res=None, output_srs=None, field=None, burn_val=[1], data_type=6, attribute_filter=None, x_buffer=1, y_buffer=1, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.rasterise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.rasterise" title="Permalink to this definition">¶</a></dt>
<dd><p>Rasterises the provided shape file to produce the output raster.</p>
<p>If x_res or y_res are not provided, self.x_res and self.y_res will be used.</p>
<p>If a field is provided, the value in that field will become the value in the raster.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>shape_file</strong> &#8211; path to the .shp vector file to rasterise, or an ogr.DataSource object contain the shape file</li>
<li><strong>raster_file</strong> &#8211; path to the output raster file (should not already exist)</li>
<li><strong>x_res</strong> &#8211; the x resolution of the output raster</li>
<li><strong>y_res</strong> &#8211; the y resolution of the output raster</li>
<li><strong>output_srs</strong> &#8211; optionally define the output projection of the raster file</li>
<li><strong>field</strong> &#8211; the field to set as raster values</li>
<li><strong>burn_val</strong> &#8211; the r,g,b value to use if there is no field for the location</li>
<li><strong>data_type</strong> &#8211; the gdal type for output data</li>
<li><strong>attribute_filter</strong> &#8211; optionally provide a filter to extract features by, of the form &#8220;field=fieldval&#8221;</li>
<li><strong>x_buffer</strong> &#8211; number of extra pixels to include at left and right sides</li>
<li><strong>y_buffer</strong> &#8211; number of extra pixels to include at top and bottom</li>
<li><strong>kwargs</strong> &#8211; additional options to provide to gdal.RasterizeLayer</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first simple">
<li><strong>IOError</strong> &#8211; if the shape file does not exist</li>
<li><strong>IOError</strong> &#8211; if the output raster already exists</li>
<li><strong>ValueError</strong> &#8211; if the provided shape_file is not a .shp file</li>
<li><strong>RuntimeError</strong> &#8211; if gdal throws an error during rasterisation</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.read_dimensions">
<code class="descname">read_dimensions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.read_dimensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.read_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list containing the geospatial coordinate system for the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list containing [0] x, [1] y, [2] upper left x, [3] upper left y, [4] x resolution, [5] y resolution</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.reproject_raster">
<code class="descname">reproject_raster</code><span class="sig-paren">(</span><em>dest_projection=None</em>, <em>source_file=None</em>, <em>dest_file=None</em>, <em>x_scalar=1.0</em>, <em>y_scalar=1.0</em>, <em>resample_algorithm=0</em>, <em>warp_memory_limit=0.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.reproject_raster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.reproject_raster" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-writes the file with a new projection.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Writes to an in-memory file (filename_tmp.tif) which then overwrites the original file, unless
dest_file is not None</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source_projection</strong> &#8211; provide a source projection to reproject from</li>
<li><strong>dest_projection</strong> &#8211; the destination file projection, cannot be None</li>
<li><strong>source_file</strong> &#8211; optionally provide a file name to reproject. Defaults to self.file_name</li>
<li><strong>dest_file</strong> &#8211; the destination file to output to (if None, overwrites original file)</li>
<li><strong>x_scalar</strong> &#8211; multiplier to change the x resolution by, defaults to 1</li>
<li><strong>y_scalar</strong> &#8211; multiplier to change the y resolution by, defaults to 1</li>
<li><strong>resample_algorithm</strong> &#8211; should be one of the gdal.GRA algorithms</li>
<li><strong>warp_memory_limit</strong> &#8211; optionally provide a memory cache limit (uses default if 0.0)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.set_dimensions">
<code class="descname">set_dimensions</code><span class="sig-paren">(</span><em>file_name=None</em>, <em>x_size=None</em>, <em>y_size=None</em>, <em>x_offset=None</em>, <em>y_offset=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.set_dimensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.set_dimensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the dimensions and file for the Map object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>file_name</strong> (<em>str</em>) &#8211; the location of the map object (a csv or tif file). If None, required that file_name is already provided.</li>
<li><strong>x_size</strong> (<em>int</em>) &#8211; the x dimension</li>
<li><strong>y_size</strong> (<em>int</em>) &#8211; the y dimension</li>
<li><strong>x_offset</strong> (<em>int</em>) &#8211; the x offset from the north-west corner</li>
<li><strong>y_offset</strong> (<em>int</em>) &#8211; the y offset from the north-west corner</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.set_sample">
<code class="descname">set_sample</code><span class="sig-paren">(</span><em>is_sample</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.set_sample"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.set_sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the is_sample attribute to true if this is a sample mask rather than an offset map</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>is_sample</strong> (<em>bool</em>) &#8211; indicates this is a sample mask rather than offset map</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>file=None</em>, <em>band_no=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the array in self.data to the output array.
The output file must exist, and the array will be overridden in the band.
Intended for writing changes to the same file the data was read from.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file</strong> &#8211; the path to the file to write to</li>
<li><strong>band_no</strong> &#8211; the band number to write into</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>:rtype None</p>
</dd></dl>

<dl class="method">
<dt id="pycoalescence.map.Map.zero_offsets">
<code class="descname">zero_offsets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/map.html#Map.zero_offsets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.map.Map.zero_offsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the x and y offsets to 0</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pycoalescence.setup">
<span id="setup-file"></span><h3>setup file<a class="headerlink" href="#module-pycoalescence.setup" title="Permalink to this headline">¶</a></h3>
<p>Sets up the NECSim executables. It configures the install by detecting system components and compiles the <code class="docutils literal"><span class="pre">c++</span></code> files,
if possible. Command line flags can be provided (see <a class="reference internal" href="README_pycoalescence.html#sec-compilation-options"><span class="std std-ref">Compilation Options</span></a> for more
information) to modify the install.</p>
<dl class="function">
<dt id="pycoalescence.setup.autoconf">
<code class="descname">autoconf</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#autoconf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.autoconf" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the <cite>autoconf</cite> bash function (assuming that autoconf is available) to create the <cite>configure</cite> executable.</p>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.backup_makefile">
<code class="descname">backup_makefile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#backup_makefile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.backup_makefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies the makefile to a saved folder so that even if the original is overwritten, the last successful
compilation can be recorded.</p>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.clean">
<code class="descname">clean</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#clean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs make clean in the NECSim directory to wipe any previous potential compile attempts.</p>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.configure">
<code class="descname">configure</code><span class="sig-paren">(</span><em>opts=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs ./configure &#8211;opts with the supplied options. This should create the makefile for compilation, otherwise a
RuntimeError will be thrown.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>opts</strong> &#8211; a list of options to pass to the ./configure call</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.configure_and_compile">
<code class="descname">configure_and_compile</code><span class="sig-paren">(</span><em>argv=[None], logging_level=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#configure_and_compile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.configure_and_compile" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls the configure script, then runs the compilation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>argv</strong> &#8211; the arguments to pass to configure script</li>
<li><strong>logging_level</strong> &#8211; the logging level to utilise (defaults to INFO).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.copy_makefile">
<code class="descname">copy_makefile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#copy_makefile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.copy_makefile" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies the backup makefile to the main directory, if it exists.
Throws an IOError if no makefile is found.</p>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.create_default_depend">
<code class="descname">create_default_depend</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#create_default_depend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.create_default_depend" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the default makedepend command, outputting dependencies to lib/depends_default.</p>
<p>Used to generate a default dependency file on a system where makedepend exists, for a system where it does not.</p>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.do_compile">
<code class="descname">do_compile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#do_compile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.do_compile" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiles the c++ necsim program by running make. This changes the working directory to wherever the module has been
installed for the subprocess call.</p>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.get_build_dir">
<code class="descname">get_build_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#get_build_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.get_build_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the build directory for this python version.
:return: the build directory path for the current python interpreter</p>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.get_compilation_flags">
<code class="descname">get_compilation_flags</code><span class="sig-paren">(</span><em>display_warnings=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#get_compilation_flags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.get_compilation_flags" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the compilation flags for passing to ./configure.
:param display_warnings: If true, runs with the -Wall flag for compilation (displaying all warnings). Default is False.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of compilation flags.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.make_depend">
<code class="descname">make_depend</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#make_depend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.make_depend" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs make depend in the lib directory to calculate all dependencies for the header and source files.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Fails silently if makedepend is not installed, printing an error to logging.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.move_executable">
<code class="descname">move_executable</code><span class="sig-paren">(</span><em>directory='/Users/samthompson/Documents/PhD/Code/pycoalescence/pycoalescence/build/default/'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#move_executable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.move_executable" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves the executable to the specified directory from within NECSim. Will always look for NECSim relative to the
setup.py (so can be called from another module location).
This allows for multiple compilation options with different versions stored in different folders.</p>
<p>Throws an IOError when the NECSim executable is not found.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>directory</strong> &#8211; the directory to move the NECSim excecutable to.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.move_shared_object_file">
<code class="descname">move_shared_object_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#move_shared_object_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.move_shared_object_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves the shared object (.so) file to the build directory.
:return:</p>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.run_configure">
<code class="descname">run_configure</code><span class="sig-paren">(</span><em>argv=[None], logging_level=20, display_warnings=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#run_configure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.run_configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures the install for compile options provided via the command line, or with default options if no options exist.
Running with <code class="docutils literal"><span class="pre">-help</span></code> or <cite>-h</cite> will display the compilation configurations called from <code class="docutils literal"><span class="pre">./configure</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>argv</strong> &#8211; the arguments to pass to configure script</li>
<li><strong>logging_level</strong> &#8211; the logging level to utilise (defaults to INFO).</li>
<li><strong>display_warnings</strong> &#8211; If true, runs with the -Wall flag for compilation (displaying all warnings). Default is False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycoalescence.setup.use_default_depends">
<code class="descname">use_default_depends</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/setup.html#use_default_depends"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.setup.use_default_depends" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses the default dependencies, copying all contents of depends_default to the end of Makefile.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Zero error-checking is done here as the Makefiles should not change, and the depends_default file should
be created using create_default_depend()</p>
</div>
</dd></dl>

</div>
<div class="section" id="module-pycoalescence.hpc_setup">
<span id="hpc-setup-file"></span><h3>hpc_setup file<a class="headerlink" href="#module-pycoalescence.hpc_setup" title="Permalink to this headline">¶</a></h3>
<p>Sets up pycoalescence for usage on HPC systems, including providing intel compiler flags for optimisation, and specific
verbose patterns to add support for certain types of file systems.</p>
<dl class="function">
<dt id="pycoalescence.hpc_setup.build_hpc">
<code class="descname">build_hpc</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycoalescence/hpc_setup.html#build_hpc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycoalescence.hpc_setup.build_hpc" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiles NECSim with the <code class="docutils literal"><span class="pre">--with-hpc</span></code> and <code class="docutils literal"><span class="pre">--with-verbose</span></code> flags, which adds extra support for intel compilers
and provides a selection of optimisation flags for high-performance systems.
:return:</p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/PyCoal_logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pycoalescence package</a><ul>
<li><a class="reference internal" href="#module-contents">Module Contents</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a><ul>
<li><a class="reference internal" href="#batch-process-module">batch_process module</a></li>
<li><a class="reference internal" href="#coalescence-tree-module">coalescence_tree module</a></li>
<li><a class="reference internal" href="#simulation-module">simulation module</a></li>
<li><a class="reference internal" href="#fragments-module">fragments module</a></li>
<li><a class="reference internal" href="#map-module">map module</a></li>
<li><a class="reference internal" href="#module-pycoalescence.setup">setup file</a></li>
<li><a class="reference internal" href="#module-pycoalescence.hpc_setup">hpc_setup file</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="modules.html"
                        title="previous chapter">Modules</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="necsim/necsim.html"
                        title="next chapter">necsim module</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/pycoalescence.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="necsim/necsim.html" title="necsim module"
             >next</a> |</li>
        <li class="right" >
          <a href="modules.html" title="Modules"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pycoalescence 1.2.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >Modules</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Samuel Thompson.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.6.
    </div>
  </body>
</html>